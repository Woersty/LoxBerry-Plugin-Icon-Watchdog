<link rel="stylesheet" href="<TMPL_VAR HTMLPATH>css/style.css?<TMPL_VAR VERSION>" type="text/css" media="all" />
<link rel="stylesheet" href="<TMPL_VAR HTMLPATH>css/fancy_fileupload.css?<TMPL_VAR VERSION>" type="text/css" media="all" />
<script type="text/javascript"> var langmap = {<TMPL_VAR LANGMAP.LANGMAP>} // fancy-fileupload LoxBerry translation mapping</script>
<script type="text/javascript" src="<TMPL_VAR HTMLPATH>js/jquery.ui.widget.js?<TMPL_VAR VERSION>"></script>
<script type="text/javascript" src="<TMPL_VAR HTMLPATH>js/jquery.fileupload.js?<TMPL_VAR VERSION>"></script>
<script type="text/javascript" src="<TMPL_VAR HTMLPATH>js/jquery.iframe-transport.js?<TMPL_VAR VERSION>"></script>
<script type="text/javascript" src="<TMPL_VAR HTMLPATH>js/jquery.fancy-fileupload.js?<TMPL_VAR VERSION>"></script>
<script type="text/javascript" src="<TMPL_VAR HTMLPATH>js/d3.v3.min.js?<TMPL_VAR VERSION>"></script>
<style>
.iconrow  				{ width: 32x; height: 32px; padding: 5px; cursor: pointer;}
.icon_ok 				{ color: #4D8C00;}
.icon_bad 				{ color: #FF0000; }
.icon_default			{ color: #808080; }

.icontable {
	cell-spacing:1px;
    border-collapse: collapse;
    margin: 25px 0;
    font-size: 0.9em;
    font-family: sans-serif;
	width:99%
	border: 1px solid #547529;
}
.icontable thead tr {
    background-color: #6DAC20;
    color: #ffffff;
    text-align: center;
	height: 32px;
}
.icontable th,
.icontable td {
    padding: 4px 4px;
	text-shadow: none;
	font-weight: bold;
	border: 1px solid #547529;
}
.icontable tbody tr:nth-of-type(even) {
    background-color: rgba(200,200,200,0.5);
}

.icontable tbody tr:last-of-type {
}
.icontable tbody tr:hover {
    color: #FFFFFF;
	background-color: rgba(49,56,62,0.9);
}

.svg_icon { max-width: 32px; max-height: 32px; width: 32px; height: 32px; background-repeat: no-repeat; }

	#alert_form{ display:none; }
	#alert_form {
		margin: 0 0 0 0;
		left: 0px;
		top: 0px;
		width: 100%;
		z-index: 2;
		height: 100%;
		max-height: 1080px;
		position: fixed;
		background: rgba(70, 71, 72, 0.69);
	}
	#sub_alert_form { 
		width: 90%;  
		height: 110px;
		margin: 0 auto;
		background: white;
		margin-top: 75px;
		padding: 45px;
		border: 1px solid #9E9E9E;
		border-radius: .25em .25em .4em .4em;
		text-align: center;
		box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
		background-color: rgba(255,225,225,.9);
	}
	#sub_alert_form span {
		position: relative;
		float: right;
		font-weight: 700;
		margin-top: -40px;
		height: 15px;
		font-size: 18px;
		width: 15px;
		line-height: 15px;
		margin-right: -40px;
		border: 2px solid #ffffff;
		color: #ffffff;
		padding: 7px;
		background-color: rgba(255,128,128,.9);
	}

	span#alert_form_close:hover {
		cursor:pointer;
		color: #e0190b;
	}

	@media screen and (max-width: 440px) {
		#sub_alert_form { 
			width: 290px; 
			padding: 35px;
		}
	}
</style>
<script> 
	var miniservers=[];
	colors=[
	'(255,255,255,.05)', 	//white
	'(135,206,235,.05)', 	//sky blue
	'(205,92,92,.05)',   	//indian red
	'(218,112,214,.05)', 	//orchid
	'(224,255,255,.05)', 	//light cyan
	'(184,134,11,.05)',  	//dark golden rod
	'(72,61,139,.05)',   	//dark slate blue
	'(255,215,0,.05)',   	//gold
	'(250,235,215,.05)', 	//antique white
	'(233,150,122,.05)', 	//dark salmon
	'(135,206,250,.05)', 	//light sky blue
	'(0,128,128,.05)',   	//teal
	'(255,69,0,.05)',    	//orange red
	'(147,112,219,.05)', 	//medium purple
	'(0,255,255,.05)',   	//aqua
	'(0,255,0,.05)',     	//lime
	'(64,224,208,.05)',  	//turquoise
	'(123,104,238,.05)', 	//medium slate blue
	'(65,105,225,.05)',  	//royal blue
	'(255,255,0,.05)',   	//yellow
	'(50,205,50,.05)',   	//lime green
	'(153,50,204,.05)',  	//dark orchid
	'(240,128,128,.05)', 	//light coral
	'(255,20,147,.05)',  	//deep pink
	'(255,165,0,.05)',   	//orange
	'(106,90,205,.05)',  	//slate blue
	'(0,255,127,.05)',   	//spring green
	'(0,191,255,.05)',   	//deep sky blue
	'(255,160,122,.05)', 	//light salmon
	'(221,160,221,.05)', 	//plum
	'(255,0,0,.05)',     	//red
	'(0,0,205,.05)',     	//medium blue
	'(189,183,107,.05)', 	//dark khaki
	'(0,255,255,.05)',   	//cyan
	'(138,43,226,.05)',  	//blue violet
	'(47,79,79,.05)',    	//dark slate gray
	'(0,250,154,.05)',		//medium spring green
	'(144,238,144,.05)', 	//light green
	'(30,144,255,.05)',  	//dodger blue
	'(100,149,237,.05)', 	//corn flower blue
	'(176,224,230,.05)', 	//powder blue
	'(255,127,80,.05)',  	//coral
	'(220,20,60,.05)',   	//crimson
	'(128,128,0,.05)',   	//olive
	'(32,178,170,.05)',  	//light sea green
	'(199,21,133,.05)',  	//medium violet red
	'(255,105,180,.05)', 	//hot pink
	'(139,0,0,.05)',     	//dark red
	'(216,191,216,.05)', 	//thistle
	'(165,42,42,.05)',   	//brown
	'(173,216,230,.05)', 	//light blue
	'(255,192,203,.05)', 	//pink
	'(0,0,255,.05)',     	//blue
	'(255,182,193,.05)', 	//light pink
	'(127,255,0,.05)',   	//chart reuse
	'(107,142,35,.05)',  	//olive drab
	'(173,255,47,.05)',  	//green yellow
	'(0,128,0,.05)',     	//green
	'(0,0,128,.05)',     	//navy
	'(85,107,47,.05)',   	//dark olive green
	'(127,255,212,.05)', 	//aqua marine
	'(34,139,34,.05)',   	//forest green
	'(218,165,32,.05)',  	//golden rod
	'(128,0,0,.05)',    	//maroon
	'(238,232,170,.05)', 	//pale golden rod
	'(219,112,147,.05)', 	//pale violet red
	'(0,206,209,.05)',   	//dark turquoise
	'(72,209,204,.05)',  	//medium turquoise
	'(70,130,180,.05)',  	//steel blue
	'(186,85,211,.05)',  	//medium orchid
	'(128,0,128,.05)',   	//purple
	'(255,140,0,.05)',   	//dark orange
	'(0,100,0,.05)',     	//dark green
	'(124,252,0,.05)',   	//lawn green
	'(175,238,238,.05)', 	//pale turquoise
	'(0,139,139,.05)',   	//dark cyan
	'(102,205,170,.05)', 	//medium aqua marine
	'(238,130,238,.05)', 	//violet
	'(148,0,211,.05)',   	//dark violet
	'(139,0,139,.05)',   	//dark magenta
	'(143,188,143,.05)', 	//dark sea green
	'(240,230,140,.05)', 	//khaki
	'(0,0,139,.05)',     	//dark blue
	'(46,139,87,.05)',   	//sea green
	'(95,158,160,.05)',  	//cadet blue
	'(255,0,255,.05)',   	//magenta / fuchsia
	'(178,34,34,.05)',   	//firebrick
	'(152,251,152,.05)', 	//pale green
	'(25,25,112,.05)',   	//midnight blue
	'(60,179,113,.05)',  	//medium sea green
	'(255,99,71,.05)',   	//tomato
	'(75,0,130,.05)',    	//indigo
	'(250,128,114,.05)', 	//salmon
	'(154,205,50,.05)',  	//yellow green
	];
	function nl2br (str, is_xhtml) {
	var breakTag = (is_xhtml || typeof is_xhtml === 'undefined') ? '' : '<br>';
	return (str + '').replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g, '$1' + breakTag + '$2');
	}
	$("body").append('<div style="display:none;" id="iwd_status_div"><TMPL_VAR STATUS></div>');
	$("body").append('<div style="display:none;" id="svg_status_div"><TMPL_VAR STATUS></div>');
	$("body").append('<div style="display:none;" id="backdrop"><dialog role="dialog" aria-labelledby="dialog-heading"><button id="close-dialog"><TMPL_VAR GENERAL.TXT_DIALOG_CANCEL></button><div class="dialog-heading" id="dialog-heading"><TMPL_VAR Icon-Watchdog.INF_0108_PLEASE_SELECT_AN_ICON_TO_ASSIGN></div><p id="dialogcontent"> Dies ist eine zugängliche Dialog-Box, die Sie auch mit der Tastatur benutzen können.</p></dialog></div>');
	///////////////////////////////////////////////////////////////////////////
	/////////////////////////////// Set-up ////////////////////////////////////
	///////////////////////////////////////////////////////////////////////////	
	
	var width = window.innerWidth,
	    height = window.innerHeight;

	var nodes = d3.range(150).map(function() { return {radius: Math.random() * 14 + 8}; }),
	    root = nodes[0];

	root.radius = 0;
	root.fixed = true;

	var force = d3.layout.force()
	    .gravity(0.05)
	    .charge(function(d, i) { return i ? 0 : -2000; })
	    .nodes(nodes)
	    .size([width, height]);

	force.start();
									
	var svg = d3.select("body").append("svg")
	    .attr("width", width)
		.attr("id", "working")
	    .attr("height", height);
		$("#working").css("z-index", 1005);
		$("#working").css("display", "none");
		$("#working").css("position", "fixed");

	///////////////////////////////////////////////////////////////////////////
	///////////////////////////// Create filter ///////////////////////////////
	///////////////////////////////////////////////////////////////////////////	

	//SVG filter for the gooey effect
	//Code taken from http://tympanus.net/codrops/2015/03/10/creative-gooey-effects/
	var defs = svg.append("defs");
	var filter = defs.append("filter").attr("id","gooeyCodeFilter");
	filter.append("feGaussianBlur")
		.attr("in","SourceGraphic")
		.attr("stdDeviation","10")
		//to fix safari: http://stackoverflow.com/questions/24295043/svg-gaussian-blur-in-safari-unexpectedly-lightens-image
		.attr("color-interpolation-filters","sRGB") 
		.attr("result","blur");
	filter.append("feColorMatrix")
		.attr("in","blur")
		.attr("mode","matrix")
		.attr("values","1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7")
		.attr("result","gooey");
	
	///////////////////////////////////////////////////////////////////////////
	///////////////////////////// Create circles //////////////////////////////
	///////////////////////////////////////////////////////////////////////////	
			
	var circleWrapper = svg.append("g")
		.attr("class", "circleWrapper")
		.style("filter", "url(#gooeyCodeFilter)");
				
	circleWrapper.selectAll("circle")
	    .data(nodes.slice(1))
	  .enter().append("circle")
	    .attr("r", function(d) { return d.radius; })
	    .style("fill", "#6dac20");

	///////////////////////////////////////////////////////////////////////////
	/////////////////////////////// Functions /////////////////////////////////
	///////////////////////////////////////////////////////////////////////////	
  
	force.on("tick", function(e) {
	  var q = d3.geom.quadtree(nodes),
	      i = 0,
	      n = nodes.length;

	  while (++i < n) q.visit(collide(nodes[i]));

	  svg.selectAll("circle")
	      .attr("cx", function(d) { return d.x; })
	      .attr("cy", function(d) { return d.y; });
	});

	svg.on("mousemove", function() {
	  var p1 = d3.mouse(this);
	  root.px = p1[0];
	  root.py = p1[1];
	  force.resume();
	});

	function collide(node) {
	  var r = node.radius + 16,
	      nx1 = node.x - r,
	      nx2 = node.x + r,
	      ny1 = node.y - r,
	      ny2 = node.y + r;
	  return function(quad, x1, y1, x2, y2) {
	    if (quad.point && (quad.point !== node)) {
	      var x = node.x - quad.point.x,
	          y = node.y - quad.point.y,
	          l = Math.sqrt(x * x + y * y),
	          r = node.radius + quad.point.radius;
	      if (l < r) {
	        l = (l - r) / l * .5;
	        node.x -= x *= l;
	        node.y -= y *= l;
	        quad.point.x += x;
	        quad.point.y += y;
	      }
	    }
	    return x1 > nx2 || x2 < nx1 || y1 > ny2 || y2 < ny1;
	  };
	}
</script>
<CENTER>
	<div style="background-position: center; margin-left: auto;  margin-right: auto; height:128px; background-repeat:no-repeat; background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+IDxzdmcgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIiB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIgdmVyc2lvbj0iMS4xIiBpZD0iRWJlbmVfMSIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCAzMiAzMiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgaW5rc2NhcGU6dmVyc2lvbj0iMC45MSByMTM3MjUiIHNvZGlwb2RpOmRvY25hbWU9IndhdGNoZG9nLnN2ZyI+PHRpdGxlIGlkPSJ0aXRsZTQxODQiPldhdGNoZG9nPC90aXRsZT48bWV0YWRhdGEgaWQ9Im1ldGFkYXRhOSI+PHJkZjpSREY+PGNjOldvcmsgcmRmOmFib3V0PSIiPjxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PjxkYzp0eXBlIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+PGRjOnRpdGxlPldhdGNoZG9nPC9kYzp0aXRsZT48L2NjOldvcms+PC9yZGY6UkRGPjwvbWV0YWRhdGE+PGRlZnMgaWQ9ImRlZnM3IiAvPjxzb2RpcG9kaTpuYW1lZHZpZXcgcGFnZWNvbG9yPSIjZmZmZmZmIiBib3JkZXJjb2xvcj0iIzY2NjY2NiIgYm9yZGVyb3BhY2l0eT0iMSIgb2JqZWN0dG9sZXJhbmNlPSIxMCIgZ3JpZHRvbGVyYW5jZT0iMTAiIGd1aWRldG9sZXJhbmNlPSIxMCIgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAiIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCIgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iMTAxNyIgaWQ9Im5hbWVkdmlldzUiIHNob3dncmlkPSJmYWxzZSIgaW5rc2NhcGU6em9vbT0iMTAuNDI5ODI1IiBpbmtzY2FwZTpjeD0iMjIuNTg0NTI0IiBpbmtzY2FwZTpjeT0iMzIuOTU3Mzc0IiBpbmtzY2FwZTp3aW5kb3cteD0iLTgiIGlua3NjYXBlOndpbmRvdy15PSItOCIgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMSIgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0iRWJlbmVfMSIgLz48cGF0aCBkPSJtIDI3LjUyMzAwMiw1Ljk0OTE1MjMgLTI0LjQ4OTEwMzksMCAwLDE5Ljc3OTY2MDcgMjYuMzcyODgwOSwwIDAsLTE5Ljc3OTY2MDcgLTEuODgzNzc3LDAgeiBtIDAsMTcuODk1ODgzNyAtMjIuNjA1MzI2OSwwIDAsLTE2LjAxMjEwNTIgMjIuNjA1MzI2OSwwIDAsMTYuMDEyMTA1MiB6IG0gLTYuNTkzMjIxLC03LjUzNTEwOCAtMy43Njc1NTYsMi44MjU2NjcgLTUuNjUxMzMxLC02LjU5MzIyMSAtNC43MDk0NDE3LDkuNDE4ODg2IDE4LjgzNzc3MTcsMCB6IG0gMC45NDE4ODcsLTEuODgzNzc3IiBpZD0icGF0aDMiIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiIC8+PHBhdGggaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgaWQ9InBhdGgxNiIgc3R5bGU9ImZpbGw6IzZkYWMyMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZSIgZD0ibSAxMS45Mzk4NywxOC43NDk5NjcgYyAyLjEzNzU3NSwtMi4yNjQ4NDkgMi40OTIzODksLTAuMjA2ODQ0IDQuMDc3Njc3LDAuMjI4MDEyIDAuMTk4MTYxLDAuMDUwNTYgMC4zMzEzMjUsMC4wNjM4NSAwLjMxNzA1OCwwLjE1MDk5IC0wLjEzNjMzNSwwLjg4OTg3IC0wLjQzMTUxNiwxLjA1Njg2NSAtMC43NjA2NDgsMS4wNjUxOTMgLTAuMzY0NDMxLDAuMDExMTMgLTAuNjYxNjczLDAgLTAuODgwMzY0LDAuMTA0MjY1IC0wLjI0NzkxMiwwLjExMDU2OCAtMC40NjM1MSwwLjI4MTcxNCAtMC42MjU0NDgsMC40OTY1NzQgbCAtMi4yNDE3ODEsLTEuMTIwNzM3IGMgMC4wNzczOSwtMC4zMDE5NzcgMC4xMTQ2NDMsLTAuNjEzMjkyIDAuMTEzNTA2LC0wLjkyNDI5NyB6IG0gMS44OTc5MDgsMi40NzI1NzUgYyAtMC40Nzc3NTQsMS4yNDU1NzQgMC4xNTkwNTYsMy4xMDAxODggLTEuOTcxMDY4LDMuNzgxMTkxIC0wLjEzMTI4OSwxLjA1Nzk4MSAtMC4xMjE3NzcsMi4xMjkxNDIgMC4wMjY3NCwzLjE4NTAyMiBsIDAuMjUxODIyLC0wLjAyOTI5IGMgMC40NjU0NjcsLTAuMDQ4NzUgMC40NjIzNzYsMC4zNjc4NDYgMC4yNDI1NSwwLjYzNDI4IGwgLTEuMzg3MTI3LDAgQyAxMC45MDE2MTUsMjcuNTIzMDUzIDEwLjY1MTgyMiwyNi4xMzA0MzQgMTAuNzU0MTI2LDI0LjkxNTU3NiAxMC4wMjkzODQsMjUuMTEwMTQ4IDkuNTkwNzM2MiwyNS4wNTY0MTkgOC44MDQ0ODcyLDI0Ljc2MDQxIDguNDIyNDMzMiwyNC42MTg0NSA2Ljg0MjQwMjYsMjMuNjkyMjg1IDYuNDE1MjIwOSwyNC4wNjcxNjEgNi4xNzQ3MzI2LDI0LjI4MTk5NSA2LjgxMTU0MjQsMjUuMTMyNDMzIDUuMjI2MjU1LDI2LjY0MTI3NyBsIDAuMDI3NzY4LDEuNDkyNzM0IDAuMjgwODA3NSwwIGMgMC4zOTYzMjIzLDAgMC4zODQ5ODY4LDAuMzk5Mjg4IDAuMjM4MzIxNywwLjY1OTczIGwgLTAuNzkyNjQzOSwwIGMgLTAuNTIxMjk1MiwwIC0wLjQxMjk0MDgsMC4wNTQ3MSAtMC40MjAwNDg0LC0wLjQ4NDQwNyBsIC0wLjAxMjQ5NSwtMS4xNjc0MzUgLTAuMDgzNDkyLC0wLjcxOTYwNyBjIDAsLTAuNDI4NTc5IDAuMzE1ODE1OSwtMC44ODU3MTkgMC4wMTQ1NiwtMS45MDcxMjEgQyA0LjI4MDg3MiwyMy44NDAxNiA0LjI5ODMwOTksMjMuMzAxMTE3IDMuNzc5MTU0NiwyMy4yMjcxNTMgMy4yOTkzNDA5LDI0LjE3ODcxNyAyLjgzOTg0NTgsMjUuMDUwMTQxIDIuNDM1Mzg1OCwyNi4wNDY0MyAyLjQwNjQ3NzgsMjYuMTEzMzEgMi4zNzQ1ODg4LDI2LjE3ODE2OSAyLjMzODM2NjgsMjYuMjQxMDAzIDEuODc5MTg4MSwyNy4yODE3NTcgMS42ODcxMzA0LDI2LjQ5OTMxNiAxLjk0MjA0NDksMjUuODgzMTcxIEwgMi4xMTI0MzcsMjUuNDcwNzA1IEMgMi4zMzQxMzkxLDI0LjU5ODI2OCAyLjk1NDUxNTEsMjIuOTYyNTM2IDMuNTQxODkwMywyMi4zNTc1NDYgNS43NTI1MjA0LDIwLjA2NzI3MyAxMC4yMzI4MDcsMjIuMjM1MTIgMTEuNTUyODQ5LDIwLjI1MTcgbCAyLjI2NzQ5LDAuOTcyODYzIHoiIC8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMC4wOTc3MjMxMiwwLDAsLTAuMDk3NzIzMTIsMTcuMzI2NTY2LDE1LjQ1MzkwNykiIGlkPSJnMTAtMSIgc3R5bGU9ImZpbGw6IzZkYWMyMDtmaWxsLW9wYWNpdHk6MSI+PGcgdHJhbnNmb3JtPSJzY2FsZSgwLjEsMC4xKSIgaWQ9ImcxMi0yIiBzdHlsZT0iZmlsbDojNmRhYzIwO2ZpbGwtb3BhY2l0eToxIj48cGF0aCBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIiBpZD0icGF0aDE0LTYiIHN0eWxlPSJmaWxsOiM2ZGFjMjA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmUiIGQ9Im0gNDYwLjY2LDUyNC44NzkgYyA2MC44OTksMCAxMTUuODIsLTM2LjY4IDEzOS4xMSwtOTIuOTY5IEMgNjIzLjA5LDM3NS42NiA2MTAuMTk5LDMxMC44OTggNTY3LjE0OCwyNjcuODA5IDUyNC4wNTksMjI0LjczIDQ1OS4zMDEsMjExLjg0IDQwMy4wMTIsMjM1LjE2IGMgLTU2LjI1LDIzLjMyIC05Mi45NzMsNzguMjM4IC05Mi45NzMsMTM5LjE0MSAwLDgzLjE2IDY3LjQyMiwxNTAuNTc4IDE1MC42MjEsMTUwLjU3OCB6IE0gMTY3LjEwOSw1NC43MzA1IGMgMTIuNzMxLC0wLjAzOTEgMjMuMDUxLC0xMC4zNTE2IDIzLjA5LC0yMy4wODk5IDAsLTEyLjc2OTUgLTEwLjM1OSwtMjMuMDg5ODIgLTIzLjA5LC0yMy4wNTA3NiBsIC0xMzguMjM3OSwwIEMgMTYuMTcxOSw4LjU4OTg0IDUuODU5MzgsMTguOTEwMiA1Ljg1OTM4LDMxLjY0MDYgbCAwLDEzNi4wODk0IGMgMC4wODIwMywyMC41MDggMjQuODM5ODIsMzAuNzExIDM5LjM3MTEyLDE2LjI5IGwgMC41MDc4LC0wLjU3OSBjIDQuMTAxNSwtNC4yMjIgNi40OTIyLC05LjgxMiA2LjYwMTUsLTE1LjcxMSBsIDAsLTExMi45OTk1IHogbSAwLDY4NS4yNjk1IGMgNi4wOSwwIDExLjk5MywtMi40MjIgMTYuMzMyLC02Ljc2MiBsIDAuNTM5LC0wLjU3OCBjIDEzLjc5LC0xNC43MyAzLjMyMSwtMzguODcxIC0xNi44NzEsLTM4Ljc4OSBsIC0xMTQuNzY5MiwwIDAsLTExMy4wMTIgYyAtMS42NDA2LC0yOS4wNTggLTQ0LjQ0OTE3LC0yOS4wNTggLTQ2LjEyODg2LDAgbCAwLDEzNi4wNTEgYyAtMC4xNjAxNiw2LjA1OSAyLjE0ODQ0LDExLjkxOCA2LjM2NzE2LDE2LjI1IDQuMzAwOCw0LjQxOCAxMC4xNTI0LDYuODc5IDE2LjI5Myw2Ljg0IHogTSA3NTQuMTgsNjkzLjg3MSBjIC0xMi43MzEsLTAuMDQzIC0yMy4wOSwxMC4yNyAtMjMuMDksMjMuMDM5IDAuMDM5LDEyLjczOCAxMC4zNTksMjMuMDUxIDIzLjA5LDIzLjA5IGwgMTM4LjE2LDAgYyA2LjEwMSwtMC4wMzkgMTEuOTYxLC0yLjQ2MSAxNi4yODksLTYuNzYyIDQuMzQsLTQuMzI4IDYuNzYyLC0xMC4xODcgNi43MjMsLTE2LjMyOCBsIDAsLTEzNi4wNTEgYyAwLC0xMi43MzggLTEwLjI3NCwtMjMuMDUgLTIzLjAxMiwtMjMuMDUgLTEyLjY5MiwwLjA0MyAtMjMsMTAuMzEyIC0yMy4wNzgsMjMuMDUgbCAwLDExMy4wMTIgeiBtIDAsLTY4NS4yODExNiBDIDc0MS40NDksOC41NTA3OCA3MzEuMDksMTguODcxMSA3MzEuMDksMzEuNjQwNiBjIDAuMDM5LDEyLjczODMgMTAuMzU5LDIzLjA1MDggMjMuMDksMjMuMDg5OSBsIDExNS4xNiwwIDAsMTEyLjk5OTUgYyAwLDEyLjczOSAxMC4zMDgsMjMuMDUxIDIzLDIzLjA1MSAxMi43MzgsMCAyMy4wMTIsLTEwLjMxMiAyMy4wMTIsLTIzLjA1MSBsIDAsLTEzNi4wODk0IEMgOTE1LjM1MiwxOC45MTAyIDkwNS4wNzgsOC41ODk4NCA4OTIuMzQsOC41ODk4NCBaIE0gNy4zMzk4NCwzOTMuMTk5IGMgMjEuMTc5NjYsMjUuNjcyIDQ0LjEwOTM2LDQ5Ljc3IDY4LjY0MDY2LDcyLjIzMSAxMDcuNTM5NSw5Ny41IDIzNS4xOTE1LDE1MCAzNjYuODI4NSwxNTIuNzY5IDEzMS42MDEsMi43ODEgMjY2LjAxOSwtNDQuMjUgMzg3Ljc0MiwtMTQ0LjY3OSAzMCwtMjQuODA5IDU4LjE2LC01MS43MTkgODQuMjg5LC04MC41NTEgOC41NTgsLTkuNDE4IDkuMzAxLC0yMy41OSAxLjcxOSwtMzMuODI4IEMgODg2Ljg3OSwzMTYuODc5IDg1MS4zMjgsMjc4Ljk4IDgxMS4wNTEsMjQ2LjY0MSA3MTUuMzkxLDE3MS4wMiA1OTYuOTEsMTMwIDQ3NC45NjEsMTMwLjMwOSAzNTEuOTEsMTMwLjE5OSAyMzEuODQsMTY4LjM5OCAxMzEuNDgsMjM5LjYwOSA4NC4xNDA2LDI3My4xMjEgNDEuNzYxNywzMTMuMTIxIDUuNjIxMDksMzU4LjQ4IC0yLjUsMzY4Ljg3MSAtMS43NjE3MiwzODMuNjI5IDcuMzM5ODQsMzkzLjE5OSBaIE0gMTExLjkxLDQyNi4wNTEgQyA5NC4yMTg4LDQwOS45MjIgNzcuNDIxOSwzOTIuODUyIDYxLjY0MDYsMzc0Ljg3OSA5MS4yODkxLDM0MC4zNTIgMTI1LjAzOSwzMDkuNTcgMTYyLjE0OCwyODMuMTYgMjUzLjUyLDIxOC4zMiAzNjIuNzcsMTgzLjQ4IDQ3NC44MDEsMTgzLjUyIGMgMTA5Ljg5LC0wLjIgMjE2LjYwOSwzNi43ODkgMzAyLjc3NywxMDUgMzAuNzgxLDI0LjY3OSA1OC40NzMsNTMuMDM5IDgyLjUsODQuMzcxIC0yMCwyMS4wNTggLTQxLjI1LDQwLjk4IC02My41OTgsNTkuNjA5IC0xMTEuNjc5LDkxLjk0OSAtMjM0LjE0LDEzNSAtMzUzLDEzMi41MzkgQyAzMjQuNjA5LDU2Mi41MzkgMjA5LjM0LDUxNSAxMTEuNTIsNDI2LjA1MSBaIG0gMzQ5LjExLDMuMjg5IGMgMjIuMywwIDQyLjQyMSwtMTMuNDQyIDUwLjkyOSwtMzQuMDMxIDguNTIsLTIwLjYxOCAzLjc4OSwtNDQuMzI5IC0xMS45ODgsLTYwLjA3OSAtMTUuNzgxLC0xNS43ODEgLTM5LjQ5MiwtMjAuNDYgLTYwLjA4MiwtMTEuOTEgLTIwLjYxNyw4LjU1OSAtMzQuMDIsMjguNjY4IC0zMy45ODEsNTAuOTgxIDAsMTQuNjA5IDUuODIxLDI4LjYyOSAxNi4xMzMsMzguOTM3IDEwLjM0OCwxMC4zNTIgMjQuMzc5LDE2LjE0MSAzOC45ODksMTYuMTAyIHoiIC8+PC9nPjwvZz48L3N2Zz4=')"></div>
	<b><TMPL_VAR Icon-Watchdog.HEADER_TEXT></b>
	<br><small><TMPL_VAR Icon-Watchdog.DESCRIPTION_TEXT></small>
	<br>
</CENTER>
<DIV id="notifblock">
	<!-- NOTIFICATIONS //-->
		<TMPL_VAR NOTIFICATIONS>
	<!-- NOTIFICATIONS //-->
</DIV>
<CENTER>
	<br>
	<TABLE>
		<TR>
			<TD>
				<select name="iwd_use" id="iwd_use" class="to_save to_disable_on_save">
					<option value="off"><TMPL_VAR GENERAL.TXT_LABEL_IWD_USE_OFF></option>
					<option value="on"><TMPL_VAR GENERAL.TXT_LABEL_IWD_USE_ON></option>
				</select>
			</TD>
			<TD>
				<select name="iwd_use_notify" id="iwd_use_notify" class="to_save to_disable_on_plugin_off to_disable_on_save">
					<option value="off"><TMPL_VAR GENERAL.TXT_LABEL_IWD_USE_NOTIFY_OFF></option>
					<option value="on"><TMPL_VAR GENERAL.TXT_LABEL_IWD_USE_NOTIFY_ON></option>
				</select>
			</TD>
		</TR>
	</TABLE>
</CENTER>
<BR>
<div id="alert_form" > 
 	 <div id="sub_alert_form"> 
  	 	<span id="alert_form_close"> X </span>
 	 	 	<div id="error_message"></div>
 	 </div>
</div>
</div>
<CENTER>
	<div id="plugin_content" style="display:none"><img src="<TMPL_VAR HTMLPATH>css/nomobile.svg"><br/><TMPL_VAR Icon-Watchdog.INF_0109_NO_TOUCH_DEVICES></div>
	<STYLE>
	.PreferHttps1 {	border-style: solid; border-width: thin; border-radius: 5px; background: #C0FFC0; padding: 2px; font-size:10px; }
	.PreferHttps0 {	visibility: hidden; }
	</STYLE>
	<TMPL_LOOP TEMPLATE_ROW>
		<DIV style="display:inline-block; width:100%;" class="to_disable_on_save plugin_content">
			<DIV id="MS_LOOP_ROW<TMPL_VAR MSID>" style="text-align:left; display:inline-block; margin-bottom:5px; width:99%; padding:10px; border: 1px solid black; border-radius: 5px; background-color: rgba(228,228,228,.1);"> 
				<DIV id="colored_div_<TMPL_VAR MSID>" style="width:99%; display:inline-block; padding:5px; border: 1px solid black; border-radius: 5px; background-color: rgba(0,228,228,.1);">
					<TMPL_LOOP NAME="MSROW">
						#<TMPL_VAR MSID> - <TMPL_VAR Name> <small>[<TMPL_VAR IPAddress>]</small> <span class="PreferHttps<TMPL_VAR PreferHttps>">HTTPS</span><BR>
						<input data-mini="true" class="to_save to_disable_on_save to_disable_on_plugin_off to_hide_on_plugin_off" onclick="if ( $(this).is(':checked') ) { $('#MS_MONITOR_CB<TMPL_VAR MSID>').val(1); $('#inactive_div<TMPL_VAR MSID>').fadeIn('fast');  } else { $('#MS_MONITOR_CB<TMPL_VAR MSID>').val(0); $('#inactive_div<TMPL_VAR MSID>').fadeOut('fast'); }" type="checkbox" id="MS_MONITOR_CB_checkbox<TMPL_VAR MSID>" name="MS_MONITOR_CB_checkbox<TMPL_VAR MSID>"><label id="MS_MONITOR_CB_LABEL<TMPL_VAR MSID>" class="to_disable_on_plugin_off" for="MS_MONITOR_CB_checkbox<TMPL_VAR MSID>"><TMPL_VAR GENERAL.TXT_LABEL_MONITOR></label>
						<div id="inactive_div<TMPL_VAR MSID>">
						<table>
						 <tr>
						  <td><a id="btncheck<TMPL_VAR MSID>" class="ui-disabled to_disable_on_save to_disable_on_plugin_off" style="text-align:left;" data-role="button" data-icon="clock" data-mini="true" onclick="runCheck('<TMPL_VAR MSID>');"><TMPL_VAR GENERAL.TXT_LABEL_START_ONE_CHECK_NOW></a></td>
						  <td><a target="_self" id="btndwl<TMPL_VAR MSID>" class="ui-disabled to_disable_on_save to_disable_on_plugin_off" style="text-align:left; display:none;" data-role="button" data-icon="action" data-mini="true"><TMPL_VAR GENERAL.TXT_DOWNLOAD_CONVERTED_PROJECT></a></td>
						  <td style="width:100%"></td>
						  <td><a href="<TMPL_VAR HTMLPATH>svg/Example_EU_Socket.svg" download="<TMPL_VAR GENERAL.TXT_DOWNLOAD_EXAMPLE_SVG_FILENAME>" id="btnsvg<TMPL_VAR MSID>" class="btnsvg" style="text-align:right;" data-role="button" data-icon="action" data-mini="true"><TMPL_VAR GENERAL.TXT_DOWNLOAD_EXAMPLE_SVG></a></td>
						  </tr></table>
						<input class="to_disable_on_plugin_off" id="MS_MONITOR_CB<TMPL_VAR MSID>" name="MS_MONITOR_CB<TMPL_VAR MSID>" type="hidden" value="<TMPL_VAR MS_MONITOR_CB>">
						<DIV class="to_disable_on_plugin_off" id="loxone_upload_div_<TMPL_VAR MSID>" style="width:99%; display:inline-block; padding:7px; border: 1px solid black; border-radius: 5px; background-color: rgba(104,192,79,.5);">
							<TMPL_VAR Icon-Watchdog.TXT_IMPORT_PROJECT>
							<form method="POST" action="<TMPL_VAR HTMLPATH>uploader.php" accept-charset="UTF-8" enctype="multipart/form-data">
								<input class="to_disable_on_plugin_off" style="display:none;" class="hidden" id="loxone_files<TMPL_VAR MSID>" type="file" name="files" accept=".Loxone" max-uploads=1>
							</form>						
							<script>
							$(function() 
							{
								$('#loxone_files<TMPL_VAR MSID>').FancyFileUpload({
									params : {
										action : 'fileuploader',
										url : '<TMPL_VAR HTMLPATH>uploader.php',
										ms  : '<TMPL_VAR MSID>',
										singleFileUploads: true,
										limitMultiFileUploads: 1,
										sequentialUploads: true,
									},
									edit : false,
									maxfilesize : 10000000,
									uploadcompleted : function(e, data) { 
									$( '#iwd_status_div' ).attr("something_uploaded",<TMPL_VAR MSID>);
									$( '#iwd_status_div' ).fadeIn('slow');
									setTimeout( function() {data.ff_info.RemoveFile();
									}, 5000); 
									},
									added : function(e, data) {
										// It is okay to simulate clicking the start upload button.
										progress(1);
										this.find('.ff_fileupload_actions button.ff_fileupload_start_upload').click();
										
									},
									langmap : langmap
								});
							});
							</script>
						</DIV>
						<br/><br/>
						<DIV class="svg to_disable_on_plugin_off" id="svg_upload_div_<TMPL_VAR MSID>" style="width:99%; display:inline-block; padding:7px; border: 1px solid black; border-radius: 5px; background-color: rgba(104,192,192,.5);">
							<TMPL_VAR Icon-Watchdog.TXT_IMPORT_SVG>
							<form method="POST" action="<TMPL_VAR HTMLPATH>uploader.php" accept-charset="UTF-8" enctype="multipart/form-data">
								<input style="display:none;" class="hidden" id="svg_files<TMPL_VAR MSID>" type="file" name="files" accept=".svg" multiple>
							</form>						
							<script>
							$(function() 
							{
								$('#svg_files<TMPL_VAR MSID>').FancyFileUpload({
									params : {
										action : 'fileuploader',
										url : '<TMPL_VAR HTMLPATH>uploader.php',
										ms  : '<TMPL_VAR MSID>',
										sequentialUploads: true,

									},
									edit : false,
									maxfilesize : 25600,
									uploadcompleted : function(e, data) { 
									$( '#iwd_status_div' ).attr("something_uploaded",<TMPL_VAR MSID>);
									$( '#iwd_status_div' ).fadeIn('slow');
									setTimeout( function() { data.ff_info.RemoveFile(); }, 5000); },
									added : function(e, data) {
										// It is okay to simulate clicking the start upload button.
										this.find('.ff_fileupload_actions button.ff_fileupload_start_upload').click();
										progress(1);
									},
//									startupload : function(SubmitUpload, e, data) {
//										SubmitUpload();
//									},
									langmap : langmap
								});
							});
							
							
							</script>
						</DIV>
						<script>
						$( document ).ready(function() 
						{
						
							$(".svg .ff_fileupload_wrap .ff_fileupload_dropzone").css('background-Image','url(<TMPL_VAR HTMLPATH>css/fancy_upload_svg.svg)');
							<TMPL_VAR MS_MONITOR_CB_script>

							if ( $('#MS_MONITOR_CB<TMPL_VAR MSID>').val() == 1 )
							{
								$('#inactive_div<TMPL_VAR MSID>').fadeIn('fast'); 
							}
							else 
							{ 
								$('#inactive_div<TMPL_VAR MSID>').fadeOut('fast'); 
							}

							$( "label[for='MS_MONITOR_CB_script<TMPL_VAR MSID>']" ).removeClass( "ui-checkbox-off" ).addClass( "ui-checkbox-on" );

							getProjectfile("<TMPL_VAR MSID>");
							$(".ff_fileupload_hidden").css('display','none');

						});
						var nbr_miniservers = miniservers.push('<TMPL_VAR MSID>');
						$("#colored_div_<TMPL_VAR MSID>").css('background-color','rgba'+colors[<TMPL_VAR MSID>]); 
						
						</script>
						<br/><br/>
						<DIV class="svg to_disable_on_plugin_off" style="display:none;" id="div_svgDropdown_<TMPL_VAR MSID>">
							<DIV style="width:99%; display:inline-block; padding:7px; border: 1px solid black; border-radius: 5px; background-color: rgba(255,192,255,.5);">
								<TMPL_VAR Icon-Watchdog.TXT_SVG_DROPDOWN><br/>
								<center>
								<table class="table" style="width:99%; padding:0; spacing:1; margin:0; border: 2px solid #808080; border-radius: .4em .4em .4em .4em;">
									<tr>
									   <td style="width:99%; vertical-align: top; background-color: rgba(64,64,255,.2);">
										<div onclick="if ( $('.icontable.IconPlace').css('display') == 'none' ) {$('.icontable.IconPlace').fadeIn('slow');} else {$('.icontable.IconPlace').fadeOut('slow');}"  
											style="cursor: pointer; background-position: center; margin-left: auto; margin-bottom:30px; margin-right: auto; height:64px; background-repeat:no-repeat; background-image: url('data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJFYmVuZV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDMyIDMyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4gPHBhdGggZD0iTTI2LDNINkM1LjQsMyw1LDMuNCw1LDR2MjRjMCwwLjYsMC40LDEsMSwxaDIwYzAuNiwwLDEtMC40LDEtMVY0QzI3LDMuNCwyNi42LDMsMjYsM3ogTTI1LDE1aC04VjVoOFYxNXogTTE1LDV2MTBIN1Y1SDE1eiBNNywxN2g4djEwSDdWMTd6IE0xNywyN1YxN2g4djEwSDE3eiI+PC9wYXRoPiA8L3N2Zz4=')">
											<br/>
											<div style="margin-top:40px; width:100%; color:#4D8C00; font-family: sans-serif; font-weight:bold; font-size:1.5em; text-align:center;"><TMPL_VAR Icon-Watchdog.TXT_ICONPLACE></div>
										</div><TMPL_VAR icontable_IconPlace></td>
									</tr>
									<tr>
									   <td style="width:99%; vertical-align: top; background-color: rgba(255,255,64,.2);">
										<div onclick="if ( $('.icontable.IconState').css('display') == 'none' ) {$('.icontable.IconState').fadeIn('slow');} else {$('.icontable.IconState').fadeOut('slow');}"  
											style="cursor: pointer; background-position: center; margin-left: auto; margin-bottom:30px; margin-right: auto; height:64px; background-repeat:no-repeat; background-image: url('data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJFYmVuZV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDMyIDMyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4gPHBhdGggZD0iTTI3LDVIMVYyNkgyOVY1SDI3Wm0wLDE5SDNWN0gyN1YyNFptLTctOC00LDMtNi03TDUsMjJIMjVabTEtMmEyLDIsMCwxLDAtMi0yQTIsMiwwLDAsMCwyMSwxNFoiPjwvcGF0aD4gPC9zdmc+')">
											<br/>
											<div style="margin-top:40px; width:100%; color:#4D8C00; font-family: sans-serif; font-weight:bold; font-size:1.5em; text-align:center;"><TMPL_VAR Icon-Watchdog.TXT_ICONSTATE></div>
										</div><TMPL_VAR icontable_IconState></td>
									</tr>
									<tr>
									   <td style="width:99%; vertical-align: top; background-color: rgba(0,120,0,.2);">
										<div onclick="if ( $('.icontable.IconCat').css('display') == 'none' ) {$('.icontable.IconCat').fadeIn('slow');} else {$('.icontable.IconCat').fadeOut('slow');}"  
											style="cursor: pointer; background-position: center; margin-left: auto; margin-bottom:30px; margin-right: auto; height:64px; background-repeat:no-repeat; background-image: url('data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJFYmVuZV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDMyIDMyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4gPHBhdGggZD0iTTEwLDJINkM1LjQsMiw1LDIuNCw1LDN2MjZjMCwwLjYsMC40LDEsMSwxaDRjMC42LDAsMS0wLjQsMS0xVjNDMTEsMi40LDEwLjYsMiwxMCwyeiBNOCwyOGMtMS4xLDAtMi0wLjktMi0yIGMwLTEuMSwwLjktMiwyLTJzMiwwLjksMiwyQzEwLDI3LjEsOS4xLDI4LDgsMjh6IE0xMCwxOEg2VjRoNFYxOHoiPjwvcGF0aD4gPHBhdGggZD0iTTE4LDJoLTRjLTAuNiwwLTEsMC40LTEsMXYyNmMwLDAuNiwwLjQsMSwxLDFoNGMwLjYsMCwxLTAuNCwxLTFWM0MxOSwyLjQsMTguNiwyLDE4LDJ6IE0xNiwyOGMtMS4xLDAtMi0wLjktMi0yIGMwLTEuMSwwLjktMiwyLTJzMiwwLjksMiwyQzE4LDI3LjEsMTcuMSwyOCwxNiwyOHogTTE4LDE4aC00VjRoNFYxOHoiPjwvcGF0aD4gPHBhdGggZD0iTTI2LDJoLTRjLTAuNiwwLTEsMC40LTEsMXYyNmMwLDAuNiwwLjQsMSwxLDFoNGMwLjYsMCwxLTAuNCwxLTFWM0MyNywyLjQsMjYuNiwyLDI2LDJ6IE0yNCwyOGMtMS4xLDAtMi0wLjktMi0yIGMwLTEuMSwwLjktMiwyLTJzMiwwLjksMiwyQzI2LDI3LjEsMjUuMSwyOCwyNCwyOHogTTI2LDE4aC00VjRoNFYxOHoiPjwvcGF0aD4gPC9zdmc+')">
											<br/>
											<div style="margin-top:40px; width:100%; color:#4D8C00; font-family: sans-serif; font-weight:bold; font-size:1.5em; text-align:center;"><TMPL_VAR Icon-Watchdog.TXT_ICONCAT></div>
										</div><TMPL_VAR icontable_IconCat></td>
									</tr>	
								</table>
								</center>
							</DIV>
						</DIV>
						</DIV>
				</TMPL_LOOP>
				</DIV>
			</DIV>
		</DIV>
		<BR>
	</TMPL_LOOP>
	<br><a class="to_disable_on_save" id="btncancel" data-role="button" data-inline="true" data-mini="true" data-icon="delete" href="/admin/index.cgi"><TMPL_VAR Icon-Watchdog.BUTTON_EXIT></a>
	<br>
	<br>
				
			<DIV style="display:table; width:99%; display:inline-block; padding:7px; border: 1px solid black; border-radius: 5px; background-color: rgba(240,240,255,.5);">
				<b><TMPL_VAR LOGGING.LOG_AREA></b>
				<DIV style="display:table-row;">
					<DIV style="display:table-cell; border-radius: 5px;">
						<table>
							<tr>
								<td>
									<TMPL_VAR LOGGING.LOG_LEVEL>
								</td>
								<td>
									<select name="loglevel<TMPL_VAR PLUGINDB_MD5_CHECKSUM>" id="loglevel<TMPL_VAR PLUGINDB_MD5_CHECKSUM>" data-mini="true">
											<option value="0"><TMPL_VAR LOGGING.LOGLEVEL0></option>
										<optgroup label="<TMPL_VAR LOGGING.LOGLEVEL_GROUP_NOTIFY>">
											<option value="1"><TMPL_VAR LOGGING.LOGLEVEL1></option>
											<option value="2"><TMPL_VAR LOGGING.LOGLEVEL2></option> 
											<option value="3"><TMPL_VAR LOGGING.LOGLEVEL3></option>
										</optgroup>
										<optgroup label="<TMPL_VAR LOGGING.LOGLEVEL_GROUP_NORMAL>">
											<option value="4"><TMPL_VAR LOGGING.LOGLEVEL4></option>
											<option value="5"><TMPL_VAR LOGGING.LOGLEVEL5></option>
										</optgroup>
										<optgroup label="<TMPL_VAR LOGGING.LOGLEVEL_GROUP_FREAKS>">
											<option value="6"><TMPL_VAR LOGGING.LOGLEVEL6></option>
										</optgroup>
										<optgroup label="<TMPL_VAR LOGGING.LOGLEVEL_GROUP_DEVELOPMENT>">
											<option value="7"><TMPL_VAR LOGGING.LOGLEVEL7></option>
										</optgroup>
									</select>
								</td>
								<td>
									<button onclick="window.open('/admin/system/logmanager.cgi?package=icon-watchdog', 'log'); return false;" id="logview" data-icon="bars" data-role="button" data-inline="true" data-mini="true"><TMPL_VAR LOGGING.LOG_MGR></button>
								</td>
							</tr>
						</table>
						<script>
							function post_value (action, pluginmd5, value)
							{
								console.log("Action:", action, "Plugin-MD5:", pluginmd5, "Value:", value);
								$.post ( '/admin/system/tools/ajax-config-handler.cgi', 
									{ 	action: action,
										value: value,
										pluginmd5: pluginmd5
									});
							}

						</script>
		 			</DIV>
				</DIV>
			</DIV>
</CENTER>
<small><small><TMPL_VAR VERSION></small></small>
  <script>
function assign_icon(svgfilename,ms,U)
{
			$("#svg_status_div").html("<TMPL_VAR GENERAL.TXT_STATUS_WORKING>");
			$.ajax({url: '<TMPL_VAR HTMLPATH>manage_svgs.php', type: 'POST', data : {svgfilename:svgfilename, ms:ms, U:U},
	            success: function (json_assign_icon_result) 
	            {
						var assign_icon_result = JSON.parse(json_assign_icon_result);
						if (assign_icon_result.success === true)
						{
							$( '#svg_status_div' ).html(assign_icon_result.message).trigger('create');
							if ( assign_icon_result.refresh && assign_icon_result.refresh_data)
							{
								$( '#'+assign_icon_result.refresh ).html(atob(assign_icon_result.refresh_data));
							}
							$( '#svg_status_div' ).fadeIn('slow');
							setTimeout( function() { 
							$( '#svg_status_div' ).fadeOut('slow');
							}, 7000);
						}
						else
						{
							show_error(assign_icon_result.message);
						}
	            },
	            error: function (errorThrown) 
	            {
					$( '#svg_status_div' ).html("<TMPL_VAR ERRORS.ERR_061_SVG_ASSIGNMENT_FAILED>").trigger('create');
					$( '#svg_status_div' ).fadeIn('slow');
					setTimeout( function() { 
					$( '#svg_status_div' ).fadeOut('slow');
					}, 7000);
			    }	
	        });

	
	
}
	
function svgDialog(ms,U,Title){ 
	clearInterval(status);
	var dialog = document.querySelector('dialog'),
    	closebutton = document.getElementById('close-dialog');

	if (!dialog.hasAttribute('open')) {
		// do not allow to change default icons
		if ( "00000000-0000" === U.substring(0,13) ) 
		{
			$( '#svg_status_div' ).html("<TMPL_VAR ERRORS.ERR_058_DO_NOT_CHANGE_DEFAULT_ICONS>").trigger('create');
			$( '#svg_status_div' ).fadeIn('slow');
			setTimeout( function() { 
			$( '#svg_status_div' ).fadeOut('slow');
			}, 7000);

		return;
		}
		// show the dialog 
		$("#backdrop").css('display','block');
		dialog.setAttribute('open','open');
		$("#dialogcontent").html("<TMPL_VAR GENERAL.TXT_STATUS_WORKING>");

			$.ajax({url: '<TMPL_VAR HTMLPATH>manage_svgs.php', type: 'POST', data : {ms:ms},
	            success: function (svg_data) 
	            {
						$("#dialog-heading").html("<TMPL_VAR Icon-Watchdog.INF_0108_PLEASE_SELECT_AN_ICON_TO_ASSIGN><br/><b>"+Title+"</b><br/><sub>"+U+"</sub>");
						$( ".svgtable > tbody tr" ).remove();

						if ( svg_data.svg.error )
						{
							$("#dialog-heading").html("<TMPL_VAR ERRORS.ERR_TITLE>");
							$("#dialogcontent").html("<font color='red'>"+svg_data.svg.message+"</font>");
						}
						else
						{
							$("#dialogcontent").html('<table class="svgtable" id="svgtable"><tbody><tr><th></th></tr></tbody></table>');
							$.each(svg_data.svg.svg_data, function( id, svg ) 
							{
								$("#svgtable > tbody:last-child").append('<tr class="svgrow"><td><div onclick="assign_icon(\''+svg.name+'\',\''+ms+'\',\''+U+'\'); svgDialog();" id="'+svg.name+'" title="'+svg.name+'" class="svg_icon" style="background-image: url(\'data:image/svg+xml;base64,'+svg.image+'\')"></div></td></tr>"');							
							});
						}
	            },
	            error: function (errorThrown) 
	            {
					$("#dialog-heading").html("<TMPL_VAR ERRORS.ERR_TITLE>");
					$("#dialogcontent").html("<font color='red'><TMPL_VAR ERRORS.ERR_057_ERROR_WHEN_LOADING_DIALOG></font>");
					console.log('<TMPL_VAR GENERAL.MY_NAME> <TMPL_VAR ERRORS.ERR_057_ERROR_WHEN_LOADING_DIALOG>'+ms+' Error => ' + errorThrown.status + ' => ' + errorThrown.statusText);
			    }	
	        });
		
		// after displaying the dialog, focus the closebutton inside it
		closebutton.focus();
		closebutton.addEventListener('click', svgDialog);
	}
	else {
 		dialog.removeAttribute('open');  
		$("#backdrop").css('display','none');
	}
}
 
 
 </script>
 
<script>
	function build_svgDropdown (ms,icons_as_json)
	{
		progress(1);
		if ( !ms || !icons_as_json || ms < 1 ) return;
		var optgroup = "";
		var optgroup_end = "";
		$( ".icontable.IconPlace.ms"+ms+" > tbody tr" ).remove();
		$( ".icontable.IconCat.ms"+ms+" > tbody tr" ).remove();
		$( ".icontable.IconState.ms"+ms+" > tbody tr" ).remove();
		var icons = JSON.parse(icons_as_json);
		$.each(icons.Icons[0], function( id, icon ) 
		{
			if ( icon.Type[0] )
			{
				$("#icontable_"+icon.Type[0]+"_"+ms+" > tbody:last-child").append('<tr class="iconrow '+icon.Type[0]+' '+ icon.Class+'" onclick="svgDialog( '+ms+',\''+icon.U[0]+'\',\''+icon.Title[0]+'\');"><td><span class="svg_icon"  id="svg_icon_'+ms+'_'+icon.U[0]+'"></span></td><td>'+icon.Title[0]+'</td><td>'+icon.U[0]+'</td></tr>"');							
				$('#svg_icon_'+ms+'_'+icon.U[0]).html(icon.ImageSrc);

			}
		});
		$(".icontable > tbody tr:nth-child(odd)").addClass("darker");
		$("#div_svgDropdown_"+ms).fadeIn('slow');
		progress("");
	}

	function checkNotifications()
	{
		if ( $("#notifdeleteall").attr('deleting') != 1 )
		{
			$.ajax({url: '<TMPL_VAR HTMLPATH>get_notifications.php', type: 'GET', data: { 'package':'<TMPL_VAR LBPPLUGINDIR>', 'name':'<TMPL_VAR GENERAL.MY_NAME>'} }).success(function(data) {  $( '#notifblock' ).html(data).trigger('create'); }) ;
		}
	}

	function show_error(error)
	{
		// Modal form
 		$("#alert_form").on('click', function(e){ if (e.target !== this) return; });
		// Build and show....
		$("#error_message").html("<table style='width:100%;'><tr><td style='width:100%; font-weight:bold;'><TMPL_VAR ERRORS.ERR_TITLE></td></tr><tr><td><hr></td></tr><tr><td>"+error+"</td></tr></table>");
		$("#alert_form").css("z-index",1000);
		$("#alert_form").show();
		$("#alert_form_close").on('click', function(e){  // close button code. 
		$('#alert_form').fadeOut('slow');
	});
		return;
	}
	
	function save_config()
	{
		setTimeout( function() 
		{ 
			// Array with POST data to save
			var postData = {};
	
			// Add random sleep value
			postData['random_sleep'] = $('#random_sleep').val();

			// Add general on/off switch
			postData['iwd_use'] = $('#iwd_use').val();
	
			// Add notify on/off switch
			postData['iwd_use_notify'] = $('#iwd_use_notify').val();
	
			// Go through all miniservers
			miniservers.forEach(function(miniserver_id) 
			{
				// Add values per Miniserver
				postData['MS_MONITOR_CB'+miniserver_id] = $('#MS_MONITOR_CB'+miniserver_id).val();
			});		
	
			// Disable input fields and buttons			
			$('.to_disable_on_save').addClass('ui-disabled');
	
			// Empty variables
	       	var object_to_be_saved = "";
	       	
	       	// Send datas
			$.ajax({url: '<TMPL_VAR HTMLPATH>ajax_config_handler.php', type: 'POST', data : postData,
	            success: function (data) 
	            {
		            eval(data);
					// Enable input fields and buttons
					setTimeout( function() {$('.to_disable_on_save').removeClass('ui-disabled');}, 500); 
	            },
	            error: function (errorThrown) 
	            {
		            show_error('<TMPL_VAR ERRORS.ERR_006_CONFIG_FILE>');
	                console.log('<TMPL_VAR GENERAL.MY_NAME> function save_config failed: Error => ' + errorThrown.status + ' => ' + errorThrown.statusText);
					// Enable input fields and buttons
	    			setTimeout( function() {$('.to_disable_on_save').removeClass('ui-disabled');}, 500);
			    }	
	        });
		}, 500);
	}

	function getProjectfile(ms)
	{
			clearInterval(status);
			$.ajax({url: '<TMPL_VAR HTMLPATH>get_project.php', type: 'POST', data : {ms:ms},
	            success: function (result) 
	            {
						if ( result["ms"+ms].success === true) 
						{
							$( '#iwd_status_div' ).html(result["ms"+ms].message).trigger('create');
							$( '#iwd_status_div' ).fadeIn('slow');
							$( '#btndwl'+result["ms"+ms].ms ).attr("href", '<TMPL_VAR HTMLPATH>get_project.php?ms='+ms+'&getfile&');
							$( '#btndwl'+result["ms"+ms].ms ).fadeIn("slow");
						}
						else
						{
							$( '#btndwl'+result["ms"+ms].ms ).attr("href","#");
							$( '#btndwl'+result["ms"+ms].ms ).fadeOut("slow");
							if ( parseInt(result["ms"+ms].ms) > 0 )
							{
								if ( result["ms"+ms].display_error === true )
								{
									show_error("Miniserver #"+result["ms"+ms].ms +"\n<br>"+ result["ms"+ms].message);
								}
							}
							else
							{
								show_error(result["ms"+ms].message);
							}
						}
						setTimeout( function() { $("#working").fadeOut('slow'); }, 1500);

	            },
	            error: function (errorThrown) 
	            {
					$( '#iwd_status_div' ).html('<TMPL_VAR ERRORS.ERR_043_GET_NO_PROJECT_DATA>'+ms).trigger('create');
					$( '#iwd_status_div' ).fadeIn('slow');
					console.log('<TMPL_VAR GENERAL.MY_NAME> <TMPL_VAR ERRORS.ERR_043_GET_NO_PROJECT_DATA>'+ms+' Error => ' + errorThrown.status + ' => ' + errorThrown.statusText);
					setTimeout( function() { $("#working").fadeOut('slow'); }, 1500);
			    }	
	        });
			setTimeout( function() { clearInterval(status); status = setInterval(function() { checkStatus(); },5000); checkStatus(); }, 500);
	}
	
	function runCheck(ms)
	{
		clearInterval(status);
		$("#working").fadeIn('slow');
		$('.to_disable_on_save').addClass('ui-disabled');
	       	// Send datas
			$.ajax({url: '<TMPL_VAR HTMLPATH>watch.php', type: 'POST', data : {ms:ms},
	            success: function (result) 
	            {
						if ( result["ms"+ms].success === true) 
						{
							build_svgDropdown (result["ms"+ms].ms,result["ms"+ms].project_as_json);
							getProjectfile(result["ms"+ms].ms);
						}
						else
						{
							if ( parseInt(result["ms"+ms].ms) > 0 )
							{
								show_error("Miniserver #"+result["ms"+ms].ms +"\n<br>"+ result["ms"+ms].error);
							}
							else
							{
								show_error(result["ms"+ms].error);
							}
							$("#working").fadeOut('slow');
						}
						setTimeout( function() { clearInterval(status); status = setInterval(function() { checkStatus(); },5000); checkStatus(); }, 500);
	            },
	            error: function (errorThrown) 
	            {
					$( '#iwd_status_div' ).html('<TMPL_VAR ERRORS.ERR_043_GET_NO_PROJECT_DATA>'+ms).trigger('create');
					$( '#iwd_status_div' ).fadeIn('slow');
					console.log('<TMPL_VAR GENERAL.MY_NAME> <TMPL_VAR ERRORS.ERR_043_GET_NO_PROJECT_DATA>'+ms+' Error => ' + errorThrown.status + ' => ' + errorThrown.statusText);
					setTimeout( function() {$('.to_disable_on_save').removeClass('ui-disabled');}, 500);
					setTimeout( function() { clearInterval(status); status = setInterval(function() { checkStatus(); },5000); checkStatus(); }, 500);
					$("#working").fadeOut('slow');
			    }	
	        });
	}
	function checkStatus()
	{
		if ( $("#iwd_use").val() == "on" )
		{
			$("#iwd_use-button").css('background-color','rgba(128,255,128,.2)');
			$("#iwd_use").val('on');
			if ( $("#iwd_use_notify-button").hasClass('ui-disabled') )
			{
				$("#iwd_use_notify-button").css('background-color','rgba(128,128,128,.2)').css('color','rgba(64,64,64,1)');
			}
			else
			{
				if ( $("#iwd_use_notify").val() == "on" )
				{
					$("#iwd_use_notify-button").css('background-color','rgba(128,255,128,.2)').css('color','rgba(0,0,0,1)');
				}
				else
				{
					$("#iwd_use_notify-button").css('background-color','rgba(255,255,128,.2)').css('color','rgba(0,0,0,1)');
				}
			}
		}
		else
		{
			$("#iwd_use-button").css('background-color','rgba(255,255,128,.2)');
			$(".to_disable_on_plugin_off").addClass('ui-disabled');
			$(".to_hide_on_plugin_off").css('display','none');
			$("#iwd_use_notify-button").css('background-color','rgba(128,128,128,.2)').css('color','rgba(64,64,64,1)');
			$("#iwd_use").val('off');
			return;
		}

		var active = $('.ff_fileupload_uploading, .ff_fileupload_starting');
		if (active.length )
		{
			$('.to_disable_on_save').addClass('ui-disabled');
			$( '#iwd_status_div' ).html('<TMPL_VAR Icon-Watchdog.INF_0095_WAIT_UPLOAD_IN_PROGRESS>').trigger('create');
			$( '#iwd_status_div' ).fadeIn('slow');
			return;
		}
		else
		{
			if ($( '#iwd_status_div' ).attr("something_in_progress"))
			{
				$( '#iwd_status_div' ).html('<TMPL_VAR General.TXT_STATUS_WORKING>').trigger('create');
				$( '#iwd_status_div' ).fadeIn('slow');
				progress("");
			}
		
			if ($( '#iwd_status_div' ).attr("something_uploaded"))
			{
				var which_ms = $( '#iwd_status_div' ).attr("something_uploaded");
				setTimeout( function() {
				if ( parseInt(which_ms) > 0 ) 
				{
					//$("#btncheck"+parseInt(which_ms)).trigger( "click");
				}
				which_ms = 0; }, 1000); 
				$( '#iwd_status_div' ).attr("something_uploaded","");
				$( '#iwd_status_div' ).fadeOut('fast');
				return;
			}

			// Send datas
			$.ajax({url: '<TMPL_VAR HTMLPATH>get_status.php', type: 'POST', data : '',
				success: function (data) 
				{
					if ( data === "" )
					{
						setTimeout( function() {$('.to_disable_on_save').removeClass('ui-disabled');}, 500);
						//$('#btncheck').removeClass('ui-disabled');
						$( '#iwd_status_div' ).fadeOut('slow');
						$('.to_disable_on_plugin_off').removeClass('ui-disabled');
						$(".to_hide_on_plugin_off").css('display','');
						$.each($('.svgDropdown'), function( drop_id ) 
						{
							if ( $('.svgDropdown')[drop_id].id )
							{
								var svg_select_name = $('.svgDropdown')[drop_id].id;
								var svg_select = $("#"+svg_select_name)[0];
								if( svg_select.length > 0)
								{
									$("#div_"+svg_select_name).fadeIn('slow');
								}
								else
								{
									$("#div_"+svg_select_name).fadeOut('slow');
								}
							}
							
						});
					}
					else
					{
						$('.to_disable_on_save').addClass('ui-disabled');
						//$('#btncheck').addClass('ui-disabled');
						$( '#iwd_status_div' ).html(data).trigger('create');
						$( '#iwd_status_div' ).fadeIn('slow');
					}
					
				},
				error: function (errorThrown) 
				{
					$('.to_disable_on_save').removeClass('ui-disabled');
					$( '#iwd_status_div' ).html('<TMPL_VAR ERRORS.ERR_013_ERROR_READING_STATUS>').trigger('create');
					$( '#iwd_status_div' ).fadeIn('slow');
					console.log('<TMPL_VAR GENERAL.MY_NAME> function checkStatus failed: Error => ' + errorThrown.status + ' => ' + errorThrown.statusText);
					
				}	
			});

		}
	}
	function progress (progress)
	{
		$( '#iwd_status_div' ).attr("something_in_progress",progress);
	}

	$("body").css('height','90%'); 
	$("#iwd_use_notify").val("<TMPL_VAR IWD_USE_NOTIFY>"); 
	$("#iwd_use").val("<TMPL_VAR IWD_USE>"); 

	var hasTouchScreen = false;
	if ("maxTouchPoints" in navigator) {
		hasTouchScreen = navigator.maxTouchPoints > 0;
	} else if ("msMaxTouchPoints" in navigator) {
		hasTouchScreen = navigator.msMaxTouchPoints > 0;
	} else {
		var mQ = window.matchMedia && matchMedia("(pointer:coarse)");
		if (mQ && mQ.media === "(pointer:coarse)") {
			hasTouchScreen = !!mQ.matches;
		} else if ('orientation' in window) {
			hasTouchScreen = true; // deprecated, but good fallback
		} else {
			// Only as a last resort, fall back to user agent sniffing
			var UA = navigator.userAgent;
			hasTouchScreen = ( /\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(UA) || /\b(Android|Windows Phone|iPad|iPod)\b/i.test(UA));
		}
	}

	$( document ).ready(function() 
	{
		$("#iwd_use-button").remove(); 
		$("#iwd_use_notify-button").remove(); 

		$("#iwd_use").css('display','').selectmenu(); 
		$("#iwd_use_notify").css('display','').selectmenu(); 

		$("#iwd_use_notify").val("<TMPL_VAR IWD_USE_NOTIFY>"); 
		$("#loglevel<TMPL_VAR PLUGINDB_MD5_CHECKSUM>").selectmenu("refresh");
		$('#iwd_use_notify').addClass('ui-disabled');
		$("#iwd_use").val("<TMPL_VAR IWD_USE>"); 

		notify = setInterval(function() { checkNotifications(); },10000);
		checkNotifications();	
		status = setInterval(function() { checkStatus(); },5000);
		checkStatus();	

		// Event handler for save
		$('.to_save').on("change", function(){ save_config(); });

		$("#loglevel<TMPL_VAR PLUGINDB_MD5_CHECKSUM>-button").remove();
		$("#loglevel<TMPL_VAR PLUGINDB_MD5_CHECKSUM>").css('display','').selectmenu();
		$("#loglevel<TMPL_VAR PLUGINDB_MD5_CHECKSUM>").change(function()
		{
			var val = $(this).val();
			console.log("Loglevel", val);
			post_value('plugin-loglevel', '<TMPL_VAR PLUGINDB_MD5_CHECKSUM>', val); 
		});
		$("#loglevel<TMPL_VAR PLUGINDB_MD5_CHECKSUM>").val("<TMPL_VAR PLUGINDB_LOGLEVEL>");
		$("#loglevel<TMPL_VAR PLUGINDB_MD5_CHECKSUM>").selectmenu("refresh");

		if (hasTouchScreen)
		{
			$(".plugin_content").css("display","none");
			$("#plugin_content").css("display","block");
		}

	});
	
</script>
