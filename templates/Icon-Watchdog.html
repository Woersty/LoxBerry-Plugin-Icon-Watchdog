<link rel="stylesheet" href="<TMPL_VAR HTMLPATH>style.css?<TMPL_VAR VERSION>" type="text/css" media="all" />
<link rel="stylesheet" href="<TMPL_VAR HTMLPATH>fancy_fileupload.css?<TMPL_VAR VERSION>" type="text/css" media="all" />
<script type="text/javascript"> var langmap = {<TMPL_VAR LANGMAP.LANGMAP>} // fancy-fileupload LoxBerry translation mapping</script>
<script type="text/javascript" src="<TMPL_VAR HTMLPATH>jquery.ui.widget.js?<TMPL_VAR VERSION>"></script>
<script type="text/javascript" src="<TMPL_VAR HTMLPATH>jquery.fileupload.js?<TMPL_VAR VERSION>"></script>
<script type="text/javascript" src="<TMPL_VAR HTMLPATH>jquery.iframe-transport.js?<TMPL_VAR VERSION>"></script>
<script type="text/javascript" src="<TMPL_VAR HTMLPATH>jquery.fancy-fileupload.js?<TMPL_VAR VERSION>"></script>
<style>
.iconrow  				{ width: 32x; height: 32px; padding: 5px; cursor: pointer;}
.icon_ok 					{ }
.icon_bad 				{ color: #FF0000; }

.icontable {
	cell-spacing:1px;
    border-collapse: collapse;
    margin: 25px 0;
    font-size: 0.9em;
    font-family: sans-serif;
    min-width: 400px;
	border: 1px solid #547529;
}
.icontable thead tr {
    background-color: #6DAC20;
    color: #ffffff;
    text-align: center;
	height: 32px;
}
.icontable th,
.icontable td {
    padding: 4px 4px;
	text-shadow: none;
	border-left: 1px solid #547529;
    border-right: 1px solid #547529;
	font-weight: bold;
}
.icontable tbody tr:nth-of-type(even) {
    background-color: rgba(243,243,243,0.3);
}

.icontable tbody tr:last-of-type {
    border-bottom: 1px solid #547529;
}
.icontable tbody tr:hover {
    color: #FFFFFF;
	background-color: rgba(49,56,62,1.0);
}

.svg_icon { width: 32x; height: 32px; background-repeat: no-repeat; }

	#alert_form{ display:none; }
	#alert_form {
		margin: 0 0 0 0;
		left: 0px;
		top: 0px;
		width: 100%;
		z-index: 2;
		height: 100%;
		max-height: 1080px;
		position: fixed;
		background: rgba(70, 71, 72, 0.69);
	}
	#sub_alert_form { 
		width: 240px;  
		height: 110px;
		margin: 0 auto;
		background: white;
		margin-top: 75px;
		padding: 45px;
		border: 1px solid #9E9E9E;
		border-radius: .25em .25em .4em .4em;
		text-align: center;
		box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
		background-color: rgba(255,225,225,.9);
	}
	#sub_alert_form span {
		position: relative;
		float: right;
		font-weight: 700;
		margin-top: -40px;
		height: 15px;
		font-size: 18px;
		width: 15px;
		line-height: 15px;
		margin-right: -40px;
		border: 2px solid #ffffff;
		color: #ffffff;
		padding: 7px;
		background-color: rgba(255,128,128,.9);
	}

	span#alert_form_close:hover {
		cursor:pointer;
		color: #e0190b;
	}

	@media screen and (max-width: 440px) {
		#sub_alert_form { 
			width: 290px; 
			padding: 35px;
		}
	}
</style>
<script> 
	var miniservers=[];
	colors=[
	'(255,255,255,.05)', 	//white
	'(135,206,235,.05)', 	//sky blue
	'(205,92,92,.05)',   	//indian red
	'(218,112,214,.05)', 	//orchid
	'(224,255,255,.05)', 	//light cyan
	'(184,134,11,.05)',  	//dark golden rod
	'(72,61,139,.05)',   	//dark slate blue
	'(255,215,0,.05)',   	//gold
	'(250,235,215,.05)', 	//antique white
	'(233,150,122,.05)', 	//dark salmon
	'(135,206,250,.05)', 	//light sky blue
	'(0,128,128,.05)',   	//teal
	'(255,69,0,.05)',    	//orange red
	'(147,112,219,.05)', 	//medium purple
	'(0,255,255,.05)',   	//aqua
	'(0,255,0,.05)',     	//lime
	'(64,224,208,.05)',  	//turquoise
	'(123,104,238,.05)', 	//medium slate blue
	'(65,105,225,.05)',  	//royal blue
	'(255,255,0,.05)',   	//yellow
	'(50,205,50,.05)',   	//lime green
	'(153,50,204,.05)',  	//dark orchid
	'(240,128,128,.05)', 	//light coral
	'(255,20,147,.05)',  	//deep pink
	'(255,165,0,.05)',   	//orange
	'(106,90,205,.05)',  	//slate blue
	'(0,255,127,.05)',   	//spring green
	'(0,191,255,.05)',   	//deep sky blue
	'(255,160,122,.05)', 	//light salmon
	'(221,160,221,.05)', 	//plum
	'(255,0,0,.05)',     	//red
	'(0,0,205,.05)',     	//medium blue
	'(189,183,107,.05)', 	//dark khaki
	'(0,255,255,.05)',   	//cyan
	'(138,43,226,.05)',  	//blue violet
	'(47,79,79,.05)',    	//dark slate gray
	'(0,250,154,.05)',		//medium spring green
	'(144,238,144,.05)', 	//light green
	'(30,144,255,.05)',  	//dodger blue
	'(100,149,237,.05)', 	//corn flower blue
	'(176,224,230,.05)', 	//powder blue
	'(255,127,80,.05)',  	//coral
	'(220,20,60,.05)',   	//crimson
	'(128,128,0,.05)',   	//olive
	'(32,178,170,.05)',  	//light sea green
	'(199,21,133,.05)',  	//medium violet red
	'(255,105,180,.05)', 	//hot pink
	'(139,0,0,.05)',     	//dark red
	'(216,191,216,.05)', 	//thistle
	'(165,42,42,.05)',   	//brown
	'(173,216,230,.05)', 	//light blue
	'(255,192,203,.05)', 	//pink
	'(0,0,255,.05)',     	//blue
	'(255,182,193,.05)', 	//light pink
	'(127,255,0,.05)',   	//chart reuse
	'(107,142,35,.05)',  	//olive drab
	'(173,255,47,.05)',  	//green yellow
	'(0,128,0,.05)',     	//green
	'(0,0,128,.05)',     	//navy
	'(85,107,47,.05)',   	//dark olive green
	'(127,255,212,.05)', 	//aqua marine
	'(34,139,34,.05)',   	//forest green
	'(218,165,32,.05)',  	//golden rod
	'(128,0,0,.05)',    	//maroon
	'(238,232,170,.05)', 	//pale golden rod
	'(219,112,147,.05)', 	//pale violet red
	'(0,206,209,.05)',   	//dark turquoise
	'(72,209,204,.05)',  	//medium turquoise
	'(70,130,180,.05)',  	//steel blue
	'(186,85,211,.05)',  	//medium orchid
	'(128,0,128,.05)',   	//purple
	'(255,140,0,.05)',   	//dark orange
	'(0,100,0,.05)',     	//dark green
	'(124,252,0,.05)',   	//lawn green
	'(175,238,238,.05)', 	//pale turquoise
	'(0,139,139,.05)',   	//dark cyan
	'(102,205,170,.05)', 	//medium aqua marine
	'(238,130,238,.05)', 	//violet
	'(148,0,211,.05)',   	//dark violet
	'(139,0,139,.05)',   	//dark magenta
	'(143,188,143,.05)', 	//dark sea green
	'(240,230,140,.05)', 	//khaki
	'(0,0,139,.05)',     	//dark blue
	'(46,139,87,.05)',   	//sea green
	'(95,158,160,.05)',  	//cadet blue
	'(255,0,255,.05)',   	//magenta / fuchsia
	'(178,34,34,.05)',   	//firebrick
	'(152,251,152,.05)', 	//pale green
	'(25,25,112,.05)',   	//midnight blue
	'(60,179,113,.05)',  	//medium sea green
	'(255,99,71,.05)',   	//tomato
	'(75,0,130,.05)',    	//indigo
	'(250,128,114,.05)', 	//salmon
	'(154,205,50,.05)',  	//yellow green
	];
	function nl2br (str, is_xhtml) {
	var breakTag = (is_xhtml || typeof is_xhtml === 'undefined') ? '' : '<br>';
	return (str + '').replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g, '$1' + breakTag + '$2');
	}
	$("body").append('<div style="display:none;" id="iwd_status_div"><TMPL_VAR STATUS></div>');
</script>
<CENTER>
	<IMG src="<TMPL_VAR LOGO_ICON>">
	<BR><BR>
	<b><TMPL_VAR Icon-Watchdog.HEADER_TEXT></b>
	<br><small><TMPL_VAR Icon-Watchdog.DESCRIPTION_TEXT></small>
	<br><br>
</CENTER>
<DIV id="notifblock">
	<!-- NOTIFICATIONS //-->
		<TMPL_VAR NOTIFICATIONS>
	<!-- NOTIFICATIONS //-->
</DIV>
<CENTER>
	<br>
	<TABLE>
		<TR>
			<TD>
				<select name="iwd_use" id="iwd_use" class="to_save to_disable_on_save">
					<option value="off"><TMPL_VAR GENERAL.TXT_LABEL_IWD_USE_OFF></option>
					<option value="on"><TMPL_VAR GENERAL.TXT_LABEL_IWD_USE_ON></option>
				</select>
			</TD>
			<TD>
				<select name="iwd_use_notify" id="iwd_use_notify" class="to_save to_disable_on_plugin_off to_disable_on_save">
					<option value="off"><TMPL_VAR GENERAL.TXT_LABEL_IWD_USE_NOTIFY_OFF></option>
					<option value="on"><TMPL_VAR GENERAL.TXT_LABEL_IWD_USE_NOTIFY_ON></option>
				</select>
			</TD>
		</TR>
	</TABLE>
</CENTER>
<BR>
<div id="alert_form" > 
 	 <div id="sub_alert_form"> 
  	 	<span id="alert_form_close"> X </span>
 	 	 	<div id="error_message"></div>
 	 </div>
</div>
<CENTER>
	<STYLE>
	.PreferHttps1 {	border-style: solid; border-width: thin; border-radius: 5px; background: #C0FFC0; padding: 2px; font-size:10px; }
	.PreferHttps0 {	visibility: hidden; }
	</STYLE>
	<TMPL_LOOP TEMPLATE_ROW>
		<DIV style="display:inline-block; width:100%;" class="to_disable_on_save">
			<DIV id="MS_LOOP_ROW<TMPL_VAR MSID>" style="text-align:left; display:inline-block; margin-bottom:5px; width:99%; padding:10px; border: 1px solid black; border-radius: 5px; background-color: rgba(228,228,228,.1);"> 
				<DIV id="colored_div_<TMPL_VAR MSID>" style="width:99%; display:inline-block; padding:5px; border: 1px solid black; border-radius: 5px; background-color: rgba(0,228,228,.1);">
					<TMPL_LOOP NAME="MSROW">
						#<TMPL_VAR MSID> - <TMPL_VAR Name> <small>[<TMPL_VAR IPAddress>]</small> <span class="PreferHttps<TMPL_VAR PreferHttps>">HTTPS</span><BR>
						<input data-mini="true" class="to_save to_disable_on_save to_disable_on_plugin_off to_hide_on_plugin_off" onclick="if ( $(this).is(':checked') ) { $('#MS_MONITOR_CB<TMPL_VAR MSID>').val(1); } else { $('#MS_MONITOR_CB<TMPL_VAR MSID>').val(0); }" type="checkbox" id="MS_MONITOR_CB_checkbox<TMPL_VAR MSID>" name="MS_MONITOR_CB_checkbox<TMPL_VAR MSID>"><label id="MS_MONITOR_CB_LABEL<TMPL_VAR MSID>" class="to_disable_on_plugin_off" for="MS_MONITOR_CB_checkbox<TMPL_VAR MSID>"><TMPL_VAR GENERAL.TXT_LABEL_MONITOR></label>
						<a id="btncheck<TMPL_VAR MSID>" class="ui-disabled to_disable_on_save to_disable_on_plugin_off" style="text-align:left;" data-role="button" data-icon="clock" data-mini="true" onclick="runCheck('<TMPL_VAR MSID>');"><TMPL_VAR GENERAL.TXT_LABEL_START_ONE_CHECK_NOW></a>
						<input class="to_disable_on_plugin_off" id="MS_MONITOR_CB<TMPL_VAR MSID>" name="MS_MONITOR_CB<TMPL_VAR MSID>" type="hidden" value="<TMPL_VAR MS_MONITOR_CB>">
						<DIV class="to_disable_on_plugin_off" id="loxone_upload_div_<TMPL_VAR MSID>" style="width:99%; display:inline-block; padding:7px; border: 1px solid black; border-radius: 5px; background-color: rgba(104,192,79,.5);">
							<TMPL_VAR Icon-Watchdog.TXT_IMPORT_PROJECT>
							<form method="POST" action="<TMPL_VAR HTMLPATH>uploader.php" accept-charset="UTF-8" enctype="multipart/form-data">
								<input name="_token" type="hidden" value="yYpUn8Ex5OyOIj1aA5xG3s4deDzJxC9mD3IBmhGD<TMPL_VAR MSID>">
								<input class="to_disable_on_plugin_off" style="display:none;" class="hidden" id="loxone_files<TMPL_VAR MSID>" type="file" name="files" accept=".Loxone" max-uploads=1>
							</form>						
							<script>
							$(function() 
							{
								$('#loxone_files<TMPL_VAR MSID>').FancyFileUpload({
									params : {
										action : 'fileuploader',
										url : '<TMPL_VAR HTMLPATH>uploader.php',
										ms  : '<TMPL_VAR MSID>',
										singleFileUploads: true,
										limitMultiFileUploads: 1,
										sequentialUploads: true,
									},
									edit : false,
									maxfilesize : 10000000,
									uploadcompleted : function(e, data) { 
									$( '#iwd_status_div' ).attr("something_uploaded",<TMPL_VAR MSID>);
									setTimeout( function() {data.ff_info.RemoveFile();
									}, 5000); 
									},
									added : function(e, data) {
										// It is okay to simulate clicking the start upload button.
										progress(1);
										this.find('.ff_fileupload_actions button.ff_fileupload_start_upload').click();
										
									},
									langmap : langmap
								});
							});
							</script>
						</DIV>
						<br/><br/>
						<DIV class="svg to_disable_on_plugin_off" id="svg_upload_div_<TMPL_VAR MSID>" style="width:99%; display:inline-block; padding:7px; border: 1px solid black; border-radius: 5px; background-color: rgba(104,192,192,.5);">
							<TMPL_VAR Icon-Watchdog.TXT_IMPORT_SVG>
							<form method="POST" action="<TMPL_VAR HTMLPATH>uploader.php" accept-charset="UTF-8" enctype="multipart/form-data">
								<input name="_token" type="hidden" value="yYpUn8Ex5OyOIj1aA5xG3s4deDzJxC9mD3IBmhGD<TMPL_VAR MSID>">
								<input style="display:none;" class="hidden" id="svg_files<TMPL_VAR MSID>" type="file" name="files" accept=".svg" max-uploads=1>
							</form>						
							<script>
							$(function() 
							{
								$('#svg_files<TMPL_VAR MSID>').FancyFileUpload({
									params : {
										action : 'fileuploader',
										url : '<TMPL_VAR HTMLPATH>uploader.php',
										ms  : '<TMPL_VAR MSID>',
										singleFileUploads: true,
										limitMultiFileUploads: 1,
										sequentialUploads: true,

									},
									edit : false,
									maxfilesize : 10000000,
									uploadcompleted : function(e, data) { 
									$( '#iwd_status_div' ).attr("something_uploaded",<TMPL_VAR MSID>);
									setTimeout( function() { data.ff_info.RemoveFile(); }, 5000); },
									added : function(e, data) {
										// It is okay to simulate clicking the start upload button.
										this.find('.ff_fileupload_actions button.ff_fileupload_start_upload').click();
										progress(1);
									},
//									startupload : function(SubmitUpload, e, data) {
//										SubmitUpload();
//									},
									langmap : langmap
								});
							});
							
							
							</script>
						</DIV>
						<script>
						$( document ).ready(function() 
						{
						
							$(".svg .ff_fileupload_wrap .ff_fileupload_dropzone").css('background-Image','url(<TMPL_VAR HTMLPATH>fancy_upload_svg.svg)');
							<TMPL_VAR MS_MONITOR_CB_script>
							$( "label[for='MS_MONITOR_CB_script<TMPL_VAR MSID>']" ).removeClass( "ui-checkbox-off" ).addClass( "ui-checkbox-on" );
						});
						var nbr_miniservers = miniservers.push('<TMPL_VAR MSID>');
						$("#colored_div_<TMPL_VAR MSID>").css('background-color','rgba'+colors[<TMPL_VAR MSID>]); 
						</script>
						<br/><br/>
						<DIV class="svg to_disable_on_plugin_off" style="display:none;" id="div_svgDropdown_<TMPL_VAR MSID>">
							<DIV style="width:99%; display:inline-block; padding:7px; border: 1px solid black; border-radius: 5px; background-color: rgba(255,192,255,.5);">
								<TMPL_VAR Icon-Watchdog.TXT_SVG_DROPDOWN><br/><br/>
								<center>
								<table class="table" style="padding:0; spacing:0; margin:0; border: 2px solid #808080; border-radius: .4em .4em .4em .4em;">
									<tr>
									   <td style="vertical-align: top; background-color: rgba(64,64,255,.2);"><div style="background-position: center; margin-left: auto; margin-bottom:-48px; margin-right: auto; height:64px; background-repeat:no-repeat; background-image: url('data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJFYmVuZV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDMyIDMyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4gPHBhdGggZD0iTTI2LDNINkM1LjQsMyw1LDMuNCw1LDR2MjRjMCwwLjYsMC40LDEsMSwxaDIwYzAuNiwwLDEtMC40LDEtMVY0QzI3LDMuNCwyNi42LDMsMjYsM3ogTTI1LDE1aC04VjVoOFYxNXogTTE1LDV2MTBIN1Y1SDE1eiBNNywxN2g4djEwSDdWMTd6IE0xNywyN1YxN2g4djEwSDE3eiI+PC9wYXRoPiA8L3N2Zz4=')"></div><br/><TMPL_VAR icontable_IconPlace></td>
									   <td style="vertical-align: top; background-color: rgba(255,255,64,.2);"><div style=" background-position: center; margin-left: auto; margin-bottom:-48px; margin-right: auto; height:64px; background-repeat:no-repeat; background-image: url('data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJFYmVuZV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDMyIDMyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4gPHBhdGggZD0iTTI3LDVIMVYyNkgyOVY1SDI3Wm0wLDE5SDNWN0gyN1YyNFptLTctOC00LDMtNi03TDUsMjJIMjVabTEtMmEyLDIsMCwxLDAtMi0yQTIsMiwwLDAsMCwyMSwxNFoiPjwvcGF0aD4gPC9zdmc+')"></div><br/><TMPL_VAR icontable_IconState></td>
									   <td style="vertical-align: top; background-color: rgba(0,128,0,.2);"><div style=" background-position: center; margin-left: auto; margin-bottom:-48px; margin-right: auto; height:64px; background-repeat:no-repeat; background-image: url('data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJFYmVuZV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDMyIDMyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4gPHBhdGggZD0iTTEwLDJINkM1LjQsMiw1LDIuNCw1LDN2MjZjMCwwLjYsMC40LDEsMSwxaDRjMC42LDAsMS0wLjQsMS0xVjNDMTEsMi40LDEwLjYsMiwxMCwyeiBNOCwyOGMtMS4xLDAtMi0wLjktMi0yIGMwLTEuMSwwLjktMiwyLTJzMiwwLjksMiwyQzEwLDI3LjEsOS4xLDI4LDgsMjh6IE0xMCwxOEg2VjRoNFYxOHoiPjwvcGF0aD4gPHBhdGggZD0iTTE4LDJoLTRjLTAuNiwwLTEsMC40LTEsMXYyNmMwLDAuNiwwLjQsMSwxLDFoNGMwLjYsMCwxLTAuNCwxLTFWM0MxOSwyLjQsMTguNiwyLDE4LDJ6IE0xNiwyOGMtMS4xLDAtMi0wLjktMi0yIGMwLTEuMSwwLjktMiwyLTJzMiwwLjksMiwyQzE4LDI3LjEsMTcuMSwyOCwxNiwyOHogTTE4LDE4aC00VjRoNFYxOHoiPjwvcGF0aD4gPHBhdGggZD0iTTI2LDJoLTRjLTAuNiwwLTEsMC40LTEsMXYyNmMwLDAuNiwwLjQsMSwxLDFoNGMwLjYsMCwxLTAuNCwxLTFWM0MyNywyLjQsMjYuNiwyLDI2LDJ6IE0yNCwyOGMtMS4xLDAtMi0wLjktMi0yIGMwLTEuMSwwLjktMiwyLTJzMiwwLjksMiwyQzI2LDI3LjEsMjUuMSwyOCwyNCwyOHogTTI2LDE4aC00VjRoNFYxOHoiPjwvcGF0aD4gPC9zdmc+')"></div><br/><TMPL_VAR icontable_IconCat></td>
									  </tr>
								</table>
								</center>
							</DIV>
						<br/><br/>
						</DIV>
				</TMPL_LOOP>
				</DIV>
			</DIV>
		</DIV>
		<BR>
	</TMPL_LOOP>
	<br><a class="to_disable_on_save" id="btncancel" data-role="button" data-inline="true" data-mini="true" data-icon="delete" href="/admin/index.cgi"><TMPL_VAR Icon-Watchdog.BUTTON_EXIT></a>
	<br>
	<br>
				
			<DIV style="display:table; width:99%; display:inline-block; padding:7px; border: 1px solid black; border-radius: 5px; background-color: rgba(240,240,255,.5);">
				<b><TMPL_VAR LOGGING.LOG_AREA></b>
				<DIV style="display:table-row;">
					<DIV style="display:table-cell; border-radius: 5px;">
						<table>
							<tr>
								<td>
									<TMPL_VAR LOGGING.LOG_LEVEL>
								</td>
								<td>
									<select name="loglevel<TMPL_VAR PLUGINDB_MD5_CHECKSUM>" id="loglevel<TMPL_VAR PLUGINDB_MD5_CHECKSUM>" data-mini="true">
											<option value="0"><TMPL_VAR LOGGING.LOGLEVEL0></option>
										<optgroup label="<TMPL_VAR LOGGING.LOGLEVEL_GROUP_NOTIFY>">
											<option value="1"><TMPL_VAR LOGGING.LOGLEVEL1></option>
											<option value="2"><TMPL_VAR LOGGING.LOGLEVEL2></option> 
											<option value="3"><TMPL_VAR LOGGING.LOGLEVEL3></option>
										</optgroup>
										<optgroup label="<TMPL_VAR LOGGING.LOGLEVEL_GROUP_NORMAL>">
											<option value="4"><TMPL_VAR LOGGING.LOGLEVEL4></option>
											<option value="5"><TMPL_VAR LOGGING.LOGLEVEL5></option>
										</optgroup>
										<optgroup label="<TMPL_VAR LOGGING.LOGLEVEL_GROUP_FREAKS>">
											<option value="6"><TMPL_VAR LOGGING.LOGLEVEL6></option>
										</optgroup>
										<optgroup label="<TMPL_VAR LOGGING.LOGLEVEL_GROUP_DEVELOPMENT>">
											<option value="7"><TMPL_VAR LOGGING.LOGLEVEL7></option>
										</optgroup>
									</select>
								</td>
								<td>
									<button onclick="window.open('/admin/system/logmanager.cgi?package=icon-watchdog', 'log'); return false;" id="logview" data-icon="bars" data-role="button" data-inline="true" data-mini="true"><TMPL_VAR LOGGING.LOG_MGR></button>
								</td>
							</tr>
						</table>
						<script>
							function post_value (action, pluginmd5, value)
							{
								console.log("Action:", action, "Plugin-MD5:", pluginmd5, "Value:", value);
								$.post ( '/admin/system/tools/ajax-config-handler.cgi', 
									{ 	action: action,
										value: value,
										pluginmd5: pluginmd5
									});
							}

						</script>
		 			</DIV>
				</DIV>
			</DIV>
</CENTER>
<small><small><TMPL_VAR VERSION></small></small>
<script>
	function build_svgDropdown (ms,icons_as_json)
	{
		progress(1);
		if ( !ms || !icons_as_json || ms < 1 ) return;
		var optgroup = "";
		var optgroup_end = "";
		$( ".icontable.IconPlace.ms"+ms+" > tbody tr" ).remove();
		$( ".icontable.IconCat.ms"+ms+" > tbody tr" ).remove();
		$( ".icontable.IconState.ms"+ms+" > tbody tr" ).remove();
		var icons = JSON.parse(icons_as_json);
		$.each(icons.Icons, function( id, icon ) 
		{
			if ( icon.Type[0] )
			{
				$("#icontable_"+icon.Type[0]+"_"+ms+" > tbody:last-child").append('<tr class="iconrow '+icon.Type[0]+' '+ icon.Class+'"><td><span class="svg_icon"  id="svg_icon_'+ms+'_'+icon.U[0]+'"></span></td><td>'+icon.U[0]+'</td><td>'+icon.Title[0]+'</td></tr>"');							
				$('#svg_icon_'+ms+'_'+icon.U[0]).html(icon.ImageSrc);

			}
		});
		$(".icontable > tbody tr:nth-child(odd)").addClass("darker");
		$("#div_svgDropdown_"+ms).fadeIn('slow');
		progress("");
	}

	function checkNotifications()
	{
		if ( $("#notifdeleteall").attr('deleting') != 1 )
		{
			$.ajax({url: '<TMPL_VAR HTMLPATH>get_notifications.php', type: 'GET', data: { 'package':'<TMPL_VAR LBPPLUGINDIR>', 'name':'<TMPL_VAR GENERAL.MY_NAME>'} }).success(function(data) {  $( '#notifblock' ).html(data).trigger('create'); }) ;
		}
	}

	function show_error(error)
	{
		// Modal form
 		$("#alert_form").on('click', function(e){ if (e.target !== this) return; });
		// Build and show....
		$("#error_message").html("<table style='width:100%;'><tr><td style='width:100%; font-weight:bold;'><TMPL_VAR ERRORS.ERR_TITLE></td></tr><tr><td><hr></td></tr><tr><td>"+error+"</td></tr></table>");
		$("#alert_form").css("z-index",1000);
		$("#alert_form").show();
		$("#alert_form_close").on('click', function(e){  // close button code. 
		$('#alert_form').fadeOut('slow');
	});
		return;
	}
	
	function save_config()
	{
		setTimeout( function() 
		{ 
			// Array with POST data to save
			var postData = {};
	
			// Add random sleep value
			postData['random_sleep'] = $('#random_sleep').val();

			// Add general on/off switch
			postData['iwd_use'] = $('#iwd_use').val();
	
			// Add notify on/off switch
			postData['iwd_use_notify'] = $('#iwd_use_notify').val();
	
			// Go through all miniservers
			miniservers.forEach(function(miniserver_id) 
			{
				// Add values per Miniserver
				postData['MS_MONITOR_CB'+miniserver_id] = $('#MS_MONITOR_CB'+miniserver_id).val();
			});		
	
			// Disable input fields and buttons			
			$('.to_disable_on_save').addClass('ui-disabled');
	
			// Empty variables
	       	var object_to_be_saved = "";
	       	
	       	// Send datas
			$.ajax({url: '<TMPL_VAR HTMLPATH>ajax_config_handler.php', type: 'POST', data : postData,
	            success: function (data) 
	            {
		            eval(data);
					// Enable input fields and buttons
					setTimeout( function() {$('.to_disable_on_save').removeClass('ui-disabled');}, 500); 
	            },
	            error: function (errorThrown) 
	            {
		            show_error('<TMPL_VAR ERRORS.ERR_006_CONFIG_FILE>');
	                console.log('<TMPL_VAR GENERAL.MY_NAME> function save_config failed: Error => ' + errorThrown.status + ' => ' + errorThrown.statusText);
					// Enable input fields and buttons
	    			setTimeout( function() {$('.to_disable_on_save').removeClass('ui-disabled');}, 500);
			    }	
	        });
		}, 500);
	}
	function runCheck(ms)
	{
			clearInterval(status);
			$('.to_disable_on_save').addClass('ui-disabled');
	       	// Send datas
			$.ajax({url: '<TMPL_VAR HTMLPATH>watch.php', type: 'POST', data : {ms:ms},
	            success: function (result) 
	            {
						if ( result["ms"+ms].error === true )
						{
							if ( parseInt(result["ms"+ms].ms) > 0 )
							{
								show_error("Miniserver #"+result["ms"+ms].ms +"\n<br>"+ result["ms"+ms].error);
							}
							else
							{
								show_error(result["ms"+ms].error);
							}
						}
						if ( result["ms"+ms].success === true) 
						{
							build_svgDropdown (result["ms"+ms].ms,result["ms"+ms].project_as_json);
						}
	            },
	            error: function (errorThrown) 
	            {
					$( '#iwd_status_div' ).html('<TMPL_VAR ERRORS.ERR_043_GET_NO_PROJECT_DATA>'+ms).trigger('create');
					console.log('<TMPL_VAR GENERAL.MY_NAME> <TMPL_VAR ERRORS.ERR_043_GET_NO_PROJECT_DATA>'+ms+' Error => ' + errorThrown.status + ' => ' + errorThrown.statusText);
					setTimeout( function() {$('.to_disable_on_save').removeClass('ui-disabled');}, 500);
			    }	
	        });
		status = setInterval(function() { checkStatus(); },2500);
	}
	function checkStatus()
	{
		if ( $("#iwd_use").val() == "on" )
		{
			$("#iwd_use-button").css('background-color','rgba(128,255,128,.2)');
			$("#iwd_use").val('on');
			if ( $("#iwd_use_notify-button").hasClass('ui-disabled') )
			{
				$("#iwd_use_notify-button").css('background-color','rgba(128,128,128,.2)').css('color','rgba(64,64,64,1)');
			}
			else
			{
				if ( $("#iwd_use_notify").val() == "on" )
				{
					$("#iwd_use_notify-button").css('background-color','rgba(128,255,128,.2)').css('color','rgba(0,0,0,1)');
				}
				else
				{
					$("#iwd_use_notify-button").css('background-color','rgba(255,255,128,.2)').css('color','rgba(0,0,0,1)');
				}
			}
		}
		else
		{
			$("#iwd_use-button").css('background-color','rgba(255,255,128,.2)');
			$(".to_disable_on_plugin_off").addClass('ui-disabled');
			$(".to_hide_on_plugin_off").css('display','none');
			$("#iwd_use_notify-button").css('background-color','rgba(128,128,128,.2)').css('color','rgba(64,64,64,1)');
			$("#iwd_use").val('off');
			return;
		}

		var active = $('.ff_fileupload_uploading, .ff_fileupload_starting');
		if (active.length )
		{
			$('.to_disable_on_save').addClass('ui-disabled');
			$( '#iwd_status_div' ).html('<TMPL_VAR Icon-Watchdog.INF_0095_WAIT_UPLOAD_IN_PROGRESS>').trigger('create');
			$( '#iwd_status_div' ).fadeIn('fast');
			return;
		}
		else
		{
			if ($( '#iwd_status_div' ).attr("something_in_progress"))
			{
				$( '#iwd_status_div' ).html('<TMPL_VAR General.TXT_STATUS_WORKING>').trigger('create');
				$( '#iwd_status_div' ).fadeIn('slow');
				progress("");
			}
		
			if ($( '#iwd_status_div' ).attr("something_uploaded"))
			{
				var which_ms = $( '#iwd_status_div' ).attr("something_uploaded");
				setTimeout( function() {
				if ( parseInt(which_ms) > 0 ) 
				{
					$("#btncheck"+parseInt(which_ms)).trigger( "click");
				}
				which_ms = 0; }, 1000); 
				$( '#iwd_status_div' ).attr("something_uploaded","");
				$( '#iwd_status_div' ).fadeOut('fast');
				return;
			}

			// Send datas
			$.ajax({url: '<TMPL_VAR HTMLPATH>get_status.php', type: 'POST', data : '',
				success: function (data) 
				{
					if ( data === "" )
					{
						setTimeout( function() {$('.to_disable_on_save').removeClass('ui-disabled');}, 500);
						//$('#btncheck').removeClass('ui-disabled');
						$( '#iwd_status_div' ).fadeOut('slow');
						$('.to_disable_on_plugin_off').removeClass('ui-disabled');
						$(".to_hide_on_plugin_off").css('display','');
						$.each($('.svgDropdown'), function( drop_id ) 
						{
							if ( $('.svgDropdown')[drop_id].id )
							{
								var svg_select_name = $('.svgDropdown')[drop_id].id;
								var svg_select = $("#"+svg_select_name)[0];
								if( svg_select.length > 0)
								{
									$("#div_"+svg_select_name).fadeIn('slow');
								}
								else
								{
									$("#div_"+svg_select_name).fadeOut('slow');
								}
							}
							
						});
					}
					else
					{
						$('.to_disable_on_save').addClass('ui-disabled');
						//$('#btncheck').addClass('ui-disabled');
						$( '#iwd_status_div' ).html(data).trigger('create');
						$( '#iwd_status_div' ).fadeIn('slow');
					}
					
				},
				error: function (errorThrown) 
				{
					$('.to_disable_on_save').removeClass('ui-disabled');
					$( '#iwd_status_div' ).html('<TMPL_VAR ERRORS.ERR_013_ERROR_READING_STATUS>').trigger('create');
					console.log('<TMPL_VAR GENERAL.MY_NAME> function checkStatus failed: Error => ' + errorThrown.status + ' => ' + errorThrown.statusText);
					
				}	
			});

		}
	}
	function progress (progress)
	{
		$( '#iwd_status_div' ).attr("something_in_progress",progress);
	}

	$("body").css('height','90%'); 
	$("#iwd_use_notify").val("<TMPL_VAR IWD_USE_NOTIFY>"); 
	$("#iwd_use").val("<TMPL_VAR IWD_USE>"); 
	$( document ).ready(function() 
	{
		$("#iwd_use-button").remove(); 
		$("#iwd_use_notify-button").remove(); 

		$("#iwd_use").css('display','').selectmenu(); 
		$("#iwd_use_notify").css('display','').selectmenu(); 

		$("#iwd_use_notify").val("<TMPL_VAR IWD_USE_NOTIFY>"); 
		$("#loglevel<TMPL_VAR PLUGINDB_MD5_CHECKSUM>").selectmenu("refresh");
		$('#iwd_use_notify').addClass('ui-disabled');
		$("#iwd_use").val("<TMPL_VAR IWD_USE>"); 

		notify = setInterval(function() { checkNotifications(); },10000);
		checkNotifications();	
		status = setInterval(function() { checkStatus(); },2500);
		checkStatus();	

		// Event handler for save
		$('.to_save').on("change", function(){ save_config(); });

		$("#loglevel<TMPL_VAR PLUGINDB_MD5_CHECKSUM>-button").remove();
		$("#loglevel<TMPL_VAR PLUGINDB_MD5_CHECKSUM>").css('display','').selectmenu();
		$("#loglevel<TMPL_VAR PLUGINDB_MD5_CHECKSUM>").change(function()
		{
			var val = $(this).val();
			console.log("Loglevel", val);
			post_value('plugin-loglevel', '<TMPL_VAR PLUGINDB_MD5_CHECKSUM>', val); 
		});
		$("#loglevel<TMPL_VAR PLUGINDB_MD5_CHECKSUM>").val("<TMPL_VAR PLUGINDB_LOGLEVEL>");
		$("#loglevel<TMPL_VAR PLUGINDB_MD5_CHECKSUM>").selectmenu("refresh");

	});
</script>
